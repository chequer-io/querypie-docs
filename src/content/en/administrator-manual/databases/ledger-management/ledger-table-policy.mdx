---
title: 'Ledger Table Policy'
confluenceUrl: 'https://querypie.atlassian.net/wiki/spaces/QM/pages/544380061/Ledger+Table+Policy'
---

import { Callout } from 'nextra/components'

# Ledger Table Policy

### Overview

Administrators can set ledgers at the table level of databases through the Ledger Table Policy menu and apply rules when users call ledger tables.

<Callout type="important">
Ledger table policies can only be used when the related license is activated.
Please contact the QueryPie customer support team to use this feature.
</Callout>

### Mapping Approval Rules to Ledger Tables

<Callout type="info">
Vendors supporting ledger table management include MySQL, MongoDB, Oracle, MariaDB, and Athena.
</Callout>

You can create policies by DB connection and map approval rules to tables to be managed as ledgers within connections.
After setup, when users attempt to execute modification queries such as UPDATE or export data on the corresponding table, you can configure SQL Requests through the corresponding approval rules.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/ledger-management/ledger-table-policy/Screenshot-2024-12-18-at-11.46.38-AM.png" alt="Administrator &gt; Databases &gt; Ledger Management &gt; Ledger Table Policy" width="760" />
<figcaption>
Administrator &gt; Databases &gt; Ledger Management &gt; Ledger Table Policy
</figcaption>
</figure>

1. Navigate to Ledger Management &gt; Ledger Table Policy menu from the Database settings menu.
2. Click the `Create Policy` button in the top right.
3. Enter the following information for policy creation:
    1.  **Target Connection**: Select the connection containing the table that is the target of policy application.
    2.  **Target Databases**: Select the databases containing the tables that are the targets of policy application. You can select multiple databases simultaneously.
4. Save through the `Save` button.

You can verify that policies have been created in the Ledger Table Policy list by DB connection.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/ledger-management/ledger-table-policy/Screenshot-2024-12-18-at-11.47.34-AM.png" alt="Administrator &gt; Databases &gt; Ledger Management &gt; Ledger Table Policy &gt; Details" width="760" />
<figcaption>
Administrator &gt; Databases &gt; Ledger Management &gt; Ledger Table Policy &gt; Details
</figcaption>
</figure>

Go to the detail page of the created policy to set ledger table approval rules.

1. Click the `Add Rule` button in the middle right of the detail page.
2. Select the ledger table from the list.
3. Select the workflow approval rule to apply when executing DML queries on the corresponding ledger table.
    1. You can separately configure the corresponding approval rules in the Ledger Approval Rules menu.
4. If you want to enforce input of reasons for querying data, set the SELECT Purpose field to **Required** (Default value is Required).
5. If you want to enforce input of reasons for exporting data, set the Export Purpose field to **Required** (Default value is Not Required).
6. Click the `Ok` button to complete rule addition.
