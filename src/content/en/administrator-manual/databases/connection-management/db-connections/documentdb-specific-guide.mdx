---
title: 'DocumentDB Specific Guide'
confluenceUrl: 'https://querypie.atlassian.net/wiki/spaces/QM/pages/568852692/DocumentDB'
---

import { Callout } from 'nextra/components'

# DocumentDB Specific Guide

<Callout type="info">
This section provides detailed setup guides specific to Amazon DocumentDB.
</Callout>

### Adjusting Connection Cluster Structure for Cloud Synchronization

This feature allows you to check cluster information created through cloud synchronization and access cluster endpoints, read-only endpoints, and instance endpoints according to their purposes, designed to work efficiently even in multi-host environments.
This feature can be configured in Administrator Page &gt; Databases &gt; DB Connections.

After cloud synchronization, as shown in the screen below, it shows multi-host connection strings using Cluster endpoint address for the first cluster, read-only endpoint address for the second cluster, and instance endpoint address for the third cluster.
It is recommended to use Cluster endpoint rather than connecting through instance endpoint.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240122-102557.png" alt="image-20240122-102557.png" width="736" />
</figure>

### Using Amazon DocumentDB TLS(SSL)

When creating a new DocumentDB in AWS, you can use TLS for transport encryption and users can optionally turn off this option.
Data encryption in transit for Amazon DocumentDB clusters is managed through TLS parameters in cluster parameter groups.
You can manage Amazon DocumentDB cluster TLS settings using AWS Management Console or AWS Command Line Interface (AWS CLI). [Reference](https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/security.encryption.ssl.html#security.encryption.ssl.managing)<br/>When TLS is enabled in Amazon DocumentDB, a CA bundle certificate provided by AWS is required for connection.

#### Registering CA Bundle Certificate

AWS provides two types: [global bundle certificate](https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html#UsingWithRDS.SSL.CertificatesAllRegions) that can be used jointly regardless of region and [region-specific bundle certificate](https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html#UsingWithRDS.SSL.RegionCertificates).

1. Download the bundle certificate.
2. Navigate to Databases &gt; Connection Management &gt; SSL Configurations menu in QueryPie administrator console.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240730-112808.png" alt="image-20240730-112808.png" width="374" />
</figure>

1. Click the `Create SSL` button in the top right.
2. Specify a name in the `Name` field for easy identification.
3. Select `Required` in `SSL Mode`. 
4. Open the downloaded bundle certificate (.pem file) in a text editor, copy the entire content, and paste it into the `CA Certificate` field.
5. Click the `Save` button to save the settings.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240220-225433.png" alt="image-20240220-225433.png" width="521" />
</figure>

#### Mapping Certificate to DocumentDB

1. Navigate to Administrator &gt; Databases &gt; Connection Management &gt; DB Connections menu.
2. Select the DocumentDB connection created through cloud synchronization.
3. Scroll down to move to the **SSL / SSH Setting** tab.
4. Check the `Use SSL` checkbox to enable it, then select the setting name registered in the previous step (Registering CA Bundle Certificate) from **SSL Configurations**. 

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240220-230604.png" alt="image-20240220-230604.png" width="469" />
</figure>

1. Click the `Save Changes` button in the top right to save the settings.
