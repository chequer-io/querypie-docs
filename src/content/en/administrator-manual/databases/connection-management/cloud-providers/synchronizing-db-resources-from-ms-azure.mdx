---
title: 'Synchronizing DB Resources from MS Azure'
---

import { Callout } from 'nextra/components'

# Synchronizing DB Resources from MS Azure

### Overview

QueryPie supports MS Azure integration for database registration and management.
You can synchronize resources within Azure to register them as databases managed by QueryPie, and grant access permissions and set policies for users and groups for the synchronized databases.


### Registering Azure Integration Information in QueryPie

<Callout type="info">
Search Filter functionality has been added in 11.3.0 to synchronize only resources with specific tags.
</Callout>

<figure data-layout="center" data-align="center">
![Administrator &gt; Databases &gt; Connection Management &gt; Cloud Providers &gt; Create Provider](/administrator-manual/databases/connection-management/cloud-providers/synchronizing-db-resources-from-ms-azure/image-20241217-102747.png)
<figcaption>
Administrator &gt; Databases &gt; Connection Management &gt; Cloud Providers &gt; Create Provider
</figcaption>
</figure>


1. Navigate to the Cloud Provider menu from the Database settings menu.
2. Click the `Create Provider` button in the top right.
3. Enter a name that can distinguish the provider in the Name field.
4. Select Microsoft Azure from the **Cloud Provider** field.
5. Enter the **Tenant ID** of the resources you want to synchronize.
6. Enter the **Subscription ID**.
7. Enter the **Credential** information required to synchronize resources. Currently, only Client Secret method is supported.
    * Provides a manual synchronization method that enters Azure's Client Secret when clicking the `Synchronize` button. <br/>Starting from QueryPie 10.2.2, the "Save Credential for Synchronization" option is provided to enable scheduled synchronization even when using Client Secret as the Credential type. 
8. Select the resources you want to synchronize from the **Database Type Filter** field. 
    * Currently, only Azure SQL Database can be synchronized. 
9. You can use **Search Filter** to get a list of specific types of resources you want to synchronize.
    1. Search Filter works the same way as AWS search. You can use values such as name, host, OS, tags, etc. as filters, and you can conveniently enter search conditions and filters using the Enter key in the following order.
        1. Enter Key value and press Enter → Select search condition and press Enter → Enter Value and press Enter
10. Select the synchronization method from the **Replication Frequency** field.
    1. Manual : A method that synchronizes manually only when you want to synchronize.
    2. Scheduling : A method that synchronizes resources through periodic scheduling. Provides Cron Expressions.
11. **Auto Configuration Upon Initial Synchronization** You can specify some values for DBs that are first synchronized from the Cloud Provider. Initial value settings cannot be modified after saving the Cloud Provider. If changes to this setting are needed, you must delete the Cloud Provider and register it again.
    * Tag : You can automatically add tags to synchronized DBs.
        * If you enter `{vpcid}` in the tag value, the VPC ID of the Cloud that the DB belongs to will be automatically filled.
        * Example: If you set the tag Key to "Network" and enter Value as `{vpcid}`, when the DB is in "vpc-1a2b3c4d" VPC, the "Network: vpc-1a2b3c4d" tag will be automatically created.
12. Click the `Save` button to save the Cloud Provider.

<Callout type="important">
**Save Credential for Synchronization Option**

<figure data-layout="center" data-align="center">
![Save Credential for Synchronization](/administrator-manual/databases/connection-management/cloud-providers/synchronizing-db-resources-from-ms-azure/image-20241221-025943.png)
<figcaption>
Save Credential for Synchronization
</figcaption>
</figure>

*  **Synchronization settings saved with this option enabled cannot be disabled on the synchronization settings detail page, so you must choose carefully. Saved credentials cannot be replaced. If you need to use different credentials, you must create new synchronization settings. If credential changes are needed, we recommend creating credentials with the same permissions as the existing ones, creating new synchronization settings, and then deleting the existing synchronization settings.** 
* Synchronization settings saved without this option enabled can be enabled by checking the checkbox on the detail page.
* When this option is enabled, you can synchronize manually or set a schedule.
</Callout>

### Synchronizing and Managing Registered Azure Cloud Provider

<figure data-layout="center" data-align="center">
![Administrator &gt; Databases &gt; Connection Management &gt; Cloud Providers &gt; Details](/administrator-manual/databases/connection-management/cloud-providers/synchronizing-db-resources-from-ms-azure/image-20241219-060152.png)
<figcaption>
Administrator &gt; Databases &gt; Connection Management &gt; Cloud Providers &gt; Details
</figcaption>
</figure>

1. Navigate to the Cloud Provider menu from the Database settings menu.
2. Click on the registered Cloud Provider to enter the detailed information screen.
3. Click the `Synchronize` button in the top right to synchronize resources from Azure.
4. You can check the synchronization progress in the displayed Synchronization Log, and also check the synchronization history in the Administrator &gt; General &gt; Systems &gt; Jobs menu.
5. Once a Cloud Provider is registered, the Provider basic information and authentication information cannot be changed.
    1.  **Name**  : Changeable
    2.  **Cloud Provider** : Not changeable
    3.  **Tenant ID** : Not changeable
    4.  **Subscription ID** : Not changeable
    5.  **Credential**  : Not changeable
        1. "Save Credential for Synchronization" : Can be changed from disabled to enabled, but cannot be changed from enabled to disabled
    6.  **Database Type Filter**  : Not changeable
    7.  **Replication Frequency**  : Cloud synchronization settings with the "Save Credential for Synchronization" option enabled can change this value. "Save Credential for Synchronization" is disabled by default.

<Callout type="important">
Synchronization settings saved without the "Save Credential for Synchronization" option enabled can be enabled by checking the checkbox on the detail page. Like when creating new ones, this setting **cannot be disabled again after being enabled**, so you must choose carefully.
</Callout>

<Callout type="info">
Registering Applications and Obtaining Client Secret Information in Microsoft Azure
* Access the Microsoft Entra ID menu in the Azure console. 
* Register a new application in the 'App registrations' menu on the left menu. 
    *  **Enter the ID value of the application as the Client Secret ID.** 
* Move to the 'Certificates & secrets' menu on the detail page of the registered application.
* Click the 'New client secret' button at the top to generate a new client secret.
* Access the 'IAM' menu of 'Subscriptions'. 
* Assign the previously registered application to the 'Reader' role through 'Add role assignment'. 
</Callout>
