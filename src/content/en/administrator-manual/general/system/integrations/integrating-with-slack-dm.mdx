---
title: 'Slack DM Integration'
---

import { Callout } from 'nextra/components'

# Slack DM Integration

### Overview

You can integrate a Slack App with QueryPie and receive Direct Message notifications from QueryPie.

<Callout type="info">
This document applies to **version 10.2.6 or higher**.
For Slack integration methods for version 10.2.5 or lower, please refer to the [10.1.0 version manual documentation](https://docs.querypie.com/ko/querypie-manual/10.1.0/workflow-configurations).
</Callout>

#### Required Permissions for Configuration

* Slack Workspace administrator account (required to install App in Slack Workspace)
* QueryPie Owner and Approval Admin account

### Creating DM App in Slack API (via Manifest Files)

Create a Slack App dedicated for QueryPie DM integration using App Manifest.


1. [https://api.slack.com/apps](https://api.slack.com/apps) and click `Create an App`.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20231227-065658.png" alt="image-20231227-065658.png" width="760" />
  </figure>
2. In the Create an app modal, select the app creation method. Click `From a manifest`.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-131725.png" alt="screenshot-20250218-131725.png" width="712" />
  </figure>
3. In the Pick a workspace modal, select the Slack Workspace to integrate with QueryPie and proceed to the next step.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20231227-065951.png" alt="image-20231227-065951.png" width="710" />
  </figure>
4. In the Create app from manifest modal, enter the App Manifest in JSON format. <br/>Delete the pre-filled content and paste the App Manifest below, then proceed to the next step.<br/>:light_bulb_on: Please change the values in `{{..}}` to your desired values. <br/> 
  ```
  {
      "display_information": {
          "name": "{{name}}"
      },
      "features": {
          "bot_user": {
              "display_name": "{{display_name}}",
              "always_online": false
          }
      },
      "oauth_config": {
          "scopes": {
              "bot": [
                  "chat:write",
                  "users:read.email",
                  "users:read"
              ]
          }
      },
      "settings": {
          "interactivity": {
              "is_enabled": true
          },
          "org_deploy_enabled": false,
          "socket_mode_enabled": true,
          "token_rotation_enabled": false
      }
  }
  ```
5. Review the settings and click the `Create` button to complete app creation.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20240115-220447.png" alt="image-20240115-220447.png" width="763" />
  </figure>

### Installing Slack App in Slack Workspace

1. In Settings &gt; Install App, click the `Install to Workspace` button to install the created app in the Slack Workspace.
2. On the permission request page, click `Allow`.<br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20240115-221520.png" alt="image-20240115-221520.png" width="760" />
  </figure>
3. You can confirm that a Slack DM dedicated app has been created in the configured Slack Workspace.
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20240115-221618.png" alt="image-20240115-221618.png" width="760" />
  </figure>

### Obtaining Bot User OAuth Token

In the OAuth Tokens for Your Workspace section of the Features &gt; OAuth & Permissions menu, copy and record the **Bot User OAuth Token**.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20240418-022640.png" alt="image-20240418-022640.png" width="764" />
</figure>


### Creating App-Level Token

<Callout type="info">
When creating a Slack app with App manifest, you can activate Socket Mode and related permissions, but App Level Token (xapp-) is not automatically generated.
* App Level Token is a security credential, so it would be a security risk if it were automatically generated/exposed through manifest
* App manifest only defines app configuration, and actual authentication tokens are created/managed separately
</Callout>

Follow these steps to manually create an App-Level Token.

1. Go to the App-Level Tokens section in Settings &gt; Basic Information menu of the app settings page and click the `Generate Token and Scope` button.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-140951.png" alt="screenshot-20250218-140951.png" width="736" />
  </figure>
2. In the Generate an app-level token modal, click the Add Scope button and add `connections:write`.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-141555.png" alt="screenshot-20250218-141555.png" width="736" />
  </figure>
3. In the generated App-Level Token modal, copy the app token and record it separately. App-Level Token starts with `xapp-`.

### Configuring Slack DM in QueryPie

1. Navigate to Admin &gt; General &gt; System &gt; Integrations &gt; Slack menu and click the `Configure` button to open the settings modal.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250310-113509.png" alt="Administrator &gt; General &gt; System &gt; Integrations &gt; Slack &gt; Create a New Slack Configuration" width="736" />
  <figcaption>
  Administrator &gt; General &gt; System &gt; Integrations &gt; Slack &gt; Create a New Slack Configuration
  </figcaption>
  </figure>
2. Enter the App Token and Bot User OAuth Token you recorded earlier in the settings modal.
3. Additional settings are as follows. To receive Workflow notifications via DM and perform approval/rejection within messages, activate all setting toggles.
    *  **Send Workflow Notification via Slack DM**  : Enable Slack DM sending for workflow requests
    *  **Allow Users to approve or reject on Slack DM**  : Enable approval or rejection functionality within Slack DM<br/> <br/> 
      <figure data-layout="center" data-align="center">
      <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/image-20231003-054240.png" alt="Action-enabled type example (left) / Action-disabled type example (right)" width="760" />
      <figcaption>
      Action-enabled type example (left) / Action-disabled type example (right)
      </figcaption>
      </figure>
4. `Save` button to complete the setup.

### Managing Slack DM Settings

1. After registering Slack Configuration, you can check the current settings status on the screen.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250310-113950.png" alt="Administrator &gt; General &gt; System &gt; Integrations &gt; Slack" width="736" />
  <figcaption>
  Administrator &gt; General &gt; System &gt; Integrations &gt; Slack
  </figcaption>
  </figure>
2. `Edit` button to modify the entered settings.<br/>
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-152840.png" alt="Administrator &gt; General &gt; System &gt; Integrations &gt; Slack &gt; Edit the Slack Configuration" width="736" />
  <figcaption>
  Administrator &gt; General &gt; System &gt; Integrations &gt; Slack &gt; Edit the Slack Configuration
  </figcaption>
  </figure>


### Testing Slack DM for Workflow Requests

Using DB Access Request as an example, test whether the Slack DM functionality works properly.

1. In QueryPie User &gt; Workflow page, click the Submit Request button, select DB Access Request to enter the request creation screen. Enter the necessary information in the request creation screen and submit the request.<br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-151504.png" alt="screenshot-20250218-151504.png" width="736" />
  </figure>
2. Approvers can receive notifications for requests that need approval via DM with the Slack App added earlier.<br/> **Allow Users to approve or reject on Slack DM** is enabled, you can directly enter reasons in DM and approve or reject requests.<br/> <br/> 
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-152238.png" alt="screenshot-20250218-152238.png" width="701" />
  </figure>
3. When clicking the `Details` button in DM, you can view detailed content about the approval request in QueryPie Admin and approve or reject it.<br/>
  <figure data-layout="center" data-align="center">
  <img src="/administrator-manual/general/system/integrations/integrating-with-slack-dm/screenshot-20250218-152527.png" alt="screenshot-20250218-152527.png" width="736" />
  </figure>
