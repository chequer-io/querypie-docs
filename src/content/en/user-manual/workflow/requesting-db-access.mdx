---
title: 'Requesting DB Access Request'
confluenceUrl: 'https://querypie.atlassian.net/wiki/spaces/QM/pages/544377968/DB+Access+Request'
---

import { Callout } from 'nextra/components'

# Requesting DB Access Request

### Overview

You can request Privilege for DB connections that need access by following the steps below.
After approval is completed, permissions are immediately granted, and you can access the granted connections through the SQL Editor in QueryPie Web or through Agent.


### Requesting DB Access Request

#### 1. Selecting Approval Rules

* Select an Approval Rule to choose the appropriate approval rule for your purpose. The approval target varies depending on the selected rule.
* If a pre-configured approval rule is selected, the approver is automatically assigned and cannot be added or modified.
*  **Approval Expiration Date** : Enter the approval expiration date. The maximum value can be set through Maximum Approval Duration. The Approval Expiration Date cannot exceed the Access Expiration Date. If exceeded, the request cannot be submitted. If Maximum Approval Duration &gt; Maximum Access Duration, the value of Maximum Approval Duration is applied the same as the value of Maximum Access Duration. Example) If Maximum Approval Duration is 14 days and Maximum Access Duration is 5 days, the value of Maximum Approval Duration is also applied as 5 days.
    * However, when submitting in Urgent Mode, the above condition is ignored.

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/Screenshot-2025-08-26-at-12.21.07-AM.png" alt="Screenshot-2025-08-26-at-12.21.07-AM.png" width="760" />
</figure>

#### 2. Assigning Approvers

* Click the `+` button in the approval line to display a popup window where you can assign step-by-step approvers.
* In this popup window, add approval conditions and approvers, then click the `Save` button to save the approval line.
* Available approval conditions are as follows.  
    * A single Assignee can complete the approval request: The approval request is approved with just one approval from multiple people.
    * All Assignees must approve this request: All approvers must approve for the approval request to be approved.

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/screenshot-20240724-154729.png" alt="screenshot-20240724-154729.png" width="763" />
</figure>

#### 3. Assigning Reviewers

* Click the `+` button in the approval line to display a popup window where you can assign reviewers.
    * If the administrator has not allowed reviewer assignment, the Reviewer box will not be displayed.
* In this popup window, add approval conditions and approvers.
* Close the modal by clicking the `Save` button to complete reviewer assignment.

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/screenshot-20240724-171350.png" alt="screenshot-20240724-171350.png" width="760" />
</figure>

#### 4. Sending Request with Post-Approval

<Callout type="info">
From version 11.3.0, when sending a request in post-approval mode, you can no longer specify the Approval Expiration Date.
</Callout>

* If you select an approval rule that allows post-approval functionality, the Urgent Mode switch will be displayed.
* After setting Urgent mode = On and registering the approval request, you can immediately receive permissions or perform tasks.

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/screenshot-20240523-184245.png" alt="screenshot-20240523-184245.png" width="760" />
</figure>

<Callout type="important">
**Q. I can't see the Urgent Mode switch.**
A. If you select an approval rule where the administrator has not allowed Urgent Mode, this feature will not be displayed.
</Callout>

#### 5. Entering Request Information

*  **Title**  : Enter the request title. 
*  **Access Expiration Date**  : Enter the expiration date of the requested permission. The default value follows the Maximum Access Duration value in DAC configurations in the administrator page. 
*  **Reason for Request**  : Enter the reason for requesting access permission. 

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/Screenshot-2025-08-26-at-12.24.44-AM.png" alt="User &gt; Workflow &gt; Submit Request &gt; DB Access Request &gt; Request Summary" width="729" />
<figcaption>
User &gt; Workflow &gt; Submit Request &gt; DB Access Request &gt; Request Summary
</figcaption>
</figure>

#### 6. Selecting DB Connections to Request and Specifying Permissions

* The table within the Request Summary area displays the list of DB connections currently registered in QueryPie. 
    *  **Privilege Type**  : If you specify the Privilege Type to request for a specific DB connection, that value is displayed. 
    *  **Current Privilege**  : Displays the current permissions for that connection. If there is no current access permission, it is empty.
    *  **Expiration Date**  : Displays the expiration date of the permissions currently granted for that connection.
* Select the DB connections for which you want to request access permissions using checkboxes, then you can select the Privilege Type using the following two methods:
<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/screenshot-20240801-191054.png" alt="Specifying per connection through dropdown" width="362" />
<figcaption>
Specifying per connection through dropdown
</figcaption>
</figure>
<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-db-access/screenshot-20240801-191152.png" alt="Bulk application through checkboxes and Apply button" width="362" />
<figcaption>
Bulk application through checkboxes and Apply button
</figcaption>
</figure>
* Available Privilege Types are as follows.  
    *  **Read/Write Permission**  : Full permissions. 
    *  **Read-Only Permission**  : Permission to only SELECT.
    *  **Other Permissions**  : Permissions additionally created by administrators, and if no permissions are created, only the above two permissions are displayed. 
* If you have completed specifying the approval rules and entering the request body, click the `Submit` button at the bottom of the page to submit the request.

### Requesting DB Access Request (Schema Level)

<Callout type="info">
From 11.5.0, schema (Logical DB) level access requests are possible.
The following content omits common parts and focuses on the different parts.
</Callout>

1. Click the Submit Request button and select "DB Access Request (Schema Level)" from the menu.
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-120432.png" alt="image-20251218-120432.png" width="736" />
  </figure>
2. Click the `Add Item` button. <br/>  
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-120721.png" alt="image-20251218-120721.png" width="736" />
  </figure>
3. Select the connection to connect to from the left panel.
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-121011.png" alt="image-20251218-121011.png" width="736" />
  </figure>
4. When you select a connection, you can see that SELECT privilege is automatically granted to schemas that require select privilege in the privilege item on the right. You can remove this item, but if you do, errors may occur when querying schema structure in Web editor or proxy, so do not remove this item unless necessary.<br/>Click the `Add Item` button.<br/>
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-121402.png" alt="image-20251218-121402.png" width="736" />
  </figure>
5. A row is added below where you can add targets. For DBMS with schema structure (Oracle, Postgres, etc.), you must enter the target name in the format `{database name}`.`{schema name}`. For DBMS without schema structure like MySQL, enter only the logical DB name.
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-122027.png" alt="image-20251218-122027.png" width="736" />
  </figure>
    * Oracle example: ORCLDB.TESTUSER
    * PostgreSQL example: testdb.test_schema
    * MySQL example: sakila<br/>
6. To assign privileges, first select the desired privilege type from the Host Level Privilege item at the top right of the popup window. (Schema level privileges can only be granted within the scope of host level privileges. For example, if you select Read/Write as Host Level Privilege, you can grant SELECT, INSERT, etc. within that scope, but if you select Read-Only as Host Level Privilege, you can only specify SELECT.) If there are no privileges needed for Host Level privilege assignment, you must request the administrator to create a privilege type with specific privileges for that connection.<br/>
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-122450.png" alt="image-20251218-122450.png" width="736" />
  </figure>
7. Host Level Others and Host Level Functions displayed below are read-only. They are used to check upper-level information because Schema Level privileges are dependent on the properties of Host Level Privileges.
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-db-access/image-20251218-122702.png" alt="image-20251218-122702.png" width="736" />
  </figure>
8. Click the `OK` button, enter the remaining parts of the form, and click the `Submit` button to complete the request.
