---
title: 'Using Execution Plan (Explain) Feature'
confluenceUrl: 'https://querypie.atlassian.net/wiki/spaces/QM/pages/692355151/Explain'
---

import { Callout } from 'nextra/components'

# Using Execution Plan (Explain) Feature

<Callout type="info">
This feature was added from version 10.2.0.
(As of 10.2.0, only MySQL is supported.)
From version 11.2.0, administrators can disable this feature.
If users cannot use this feature, it means the administrator has disabled it through policy.
</Callout>

### Overview

When users request SQL Request through Workflow, they can check limited procedural information about the query using the execution plan (Explain statement) provided by the DBMS.
Since this feature is dependent on the DBMS, there may be differences for each DBMS corresponding to the connection when writing SQL Request in Workflow.

<Callout type="info">
What is an execution plan?<br/>It is a series of work sets or work procedures generated by the database optimizer to perform the most optimal query.
You can see the execution steps step by step and the cost for each step.
</Callout>

### Writing SQL Request and Performing Execution Plan (Explain)

The basic method of writing SQL Request in QueryPie Workflow is the same.
(Reference: [Requesting SQL Request](.))

1.  MySQL Connection and Database Selection<br/>Select the MySQL Connection and Database to execute the query and enter the query. 

<Callout type="important">
Content Type only supports "Text".
If you select "File", you cannot use the execution plan (Explain) feature.
</Callout>

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241029-234721.png" alt="image-20241029-234721.png" width="760" />
</figure>

1. Execution Plan (Explain) Options and Execution Plan Execution<br/>Select the options at the bottom of the query editor and click the `Explain` button.
    1.  **Attach Explain Results**  : This is a switch to select whether to attach the execution plan results to the SQL Request. (The default value is OFF. If necessary, turn the switch ON to attach the execution plan results.) 
    2. Select result display format
        1.  **Table**  : Results are displayed in table format.
        2.  **JSON**  : Results are displayed in JSON format. 

<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241029-235845.png" alt="image-20241029-235845.png" width="682" />
</figure>

<Callout type="important">
* The number of queries (statements ending with semicolons) that can be targeted for execution plan is limited to 100. 
* MySQL can output Explain results in JSON format from version 5.6 onwards. Therefore, if you perform Explain on versions before 5.6, you cannot output in JSON format.
<figure data-layout="center" data-align="center">
<img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241030-001252.png" alt="image-20241030-001252.png" width="682" />
</figure>
</Callout>

1. Checking Execution Plan (Explain) Results
    1. Checking Table Format Results<br/>Results are displayed as shown in the figure below. Please refer to the MySQL reference documentation for the meaning of each field.<br/> <br/>  
      <figure data-layout="center" data-align="center">
      <img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241030-002325.png" alt="image-20241030-002325.png" width="712" />
      </figure>
    2. Checking JSON Format Results<br/>If you select JSON and click the Explain button, results are displayed as shown in the figure below. Click `{JSON}` to view the entire JSON content.<br/> <br/>  <br/> <br/>  <br/>When exporting, a popup requesting password input may appear depending on administrator settings.
      <figure data-layout="center" data-align="center">
      <img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241030-003040.png" alt="Click `{JSON}` to view the entire content." width="712" />
      <figcaption>
      Click `{JSON}` to view the entire content.
      </figcaption>
      </figure>
      <figure data-layout="center" data-align="center">
      <img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241030-003129.png" alt="You can copy and export JSON results." width="560" />
      <figcaption>
      You can copy and export JSON results.
      </figcaption>
      </figure>

### Other Notes

1. Approver's Execution Plan (Explain) Result Check<br/>Approvers can check the attached execution plan (Explain) results in the Explain Results tab and use them as reference materials for approval.
  <figure data-layout="center" data-align="center">
  <img src="/user-manual/workflow/requesting-sql/using-execution-plan-explain-feature/image-20241030-004258.png" alt="image-20241030-004258.png" width="736" />
  </figure>

<Callout type="important">
The execution plan (Explain) results that approvers can see are only available in the format selected when the submitter performed the execution plan.
That is, if the submitter performed the execution plan in JSON format and attached it for submission, the approver can only see the JSON format results and cannot change the output format to table.
</Callout>

1. Statements that can be reviewed through execution plan (Explain) in MySQL<br/>MySQL differs in the supported statements for analysis through execution plan by version. 

|  **MySQL 5.6.3 and earlier**  |  **MySQL 5.6.3 and later**                         |
| -------------------- | ------------------------------------------- |
| SELECT               | SELECT , DELETE , INSERT , REPLACE , UPDATE |

<Callout type="important">
optimizer_trace and analyze are not supported in the execution plan (Explain) execution feature provided in SQL Request.
</Callout>
