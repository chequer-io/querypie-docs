---
title: 'ì„¤ì¹˜ ê°€ì´ë“œ - ê°„ë‹¨í•œ êµ¬ì„±'
---

import { Callout } from 'nextra/components'

# ì„¤ì¹˜ ê°€ì´ë“œ - ê°„ë‹¨í•œ êµ¬ì„±


## ì†Œê°œ

ì´ ì„¤ì¹˜ ê°€ì´ë“œëŠ” í•˜ë‚˜ì˜ ì„œë²„ ì»´í“¨í„°ì— QueryPie ACP ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ëŠ” ê°„ë‹¨í•œ êµ¬ì„±ì˜ ì„¤ì¹˜ ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.
ê°„ë‹¨í•œ êµ¬ì„±ìœ¼ë¡œ ì„¤ì¹˜í•˜ë”ë¼ë„, ëŒ€ë¶€ë¶„ì˜ ì¿¼ë¦¬íŒŒì´ ê¸°ëŠ¥ì„ ì‹œí—˜í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜, ì´ ì„¤ì¹˜ ë°©ì‹ì€ ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ì‹¤ì œ ìš´ì˜ í™˜ê²½ì— ì‚¬ìš©í•˜ê¸°ì— ì í•©í•œ ì„¤ì¹˜ ë°©ë²•ì€ ë³„ë„ë¡œ ì œê³µë˜ëŠ” [QueryPie Installation Guide]ë¥¼ ì°¸ê³ í•˜ì‹­ì‹œì˜¤.

<Callout type="info">
QueryPie 10.3.0 ë˜ëŠ” ì´í›„ ë²„ì „ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” PoC ìš©ë„ì˜ ì„¤ì¹˜ ê°€ì´ë“œì…ë‹ˆë‹¤.
</Callout>

## ì„¤ì¹˜ ì „ ì¤€ë¹„ì‚¬í•­

ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ê¸° ì „ì—, ë‹¤ìŒì˜ ì‚¬í•­ì„ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.
ê°„ë‹¨íˆ ìš”ì•½í•˜ë©´, ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* Linux ì„œë²„ 1ëŒ€
* ì›¹ ë¸Œë¼ìš°ì €ê°€ ì„¤ì¹˜ëœ PC 1ëŒ€

ìì„¸í•œ ê²ƒì€ ë‹¤ìŒ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”: [ì„¤ì¹˜ ì „ ì¤€ë¹„ì‚¬í•­ - ê°„ë‹¨í•œ êµ¬ì„±](../prerequisites)

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

ë‹¤ìŒ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”: [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ì™€ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ì œì–´](../system-architecture-and-network-access-control)

## ì„¤ì¹˜ ê³¼ì •

### setup.sh ì‹¤í–‰

QueryPie ì„¤ì¹˜ë¥¼ ê°„í¸í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” `setup.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‚´ë ¤ë°›ê³ , ì‹¤í–‰í•©ë‹ˆë‹¤.
setup.sh ê°€ ì‹¤ì œë¡œ ìˆ˜í–‰í•˜ëŠ” ëª…ë ¹ì€ ì‹¤í–‰ ê³¼ì •ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì•„ë˜ì˜ â€œManual steps replacing setup.shâ€ í•­ëª©ì€ `setup.sh` ê°€ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì„ ì˜®ê²¨ ë†“ì€ ê²ƒì…ë‹ˆë‹¤.

QueryPie Serviceë¥¼ ìœ„í•œ docker, docker-compose ë¥¼ ì„¤ì¹˜í•˜ê³ , docker-compose.yml ë“± ì„¤ì •íŒŒì¼ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

<Callout type="info">
ì•„ë˜ì— ì œì‹œëœ QP_VERSION, DOWNLOAD_VERSION ì€ ì˜ˆì‹œì…ë‹ˆë‹¤.
ì–´ëŠ ë²„ì „ì„ ì„¤ì¹˜í•  ê²ƒì¸ì§€, ê¸°ìˆ ì§€ì› ë‹´ë‹¹ìì—ê²Œ í™•ì¸ë°›ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
</Callout>
```bash
# Download and run ./setup.sh with required environment variables.
curl -L https://dl.querypie.com/releases/compose/setup.sh -o setup.sh
chmod +x setup.sh
export DOWNLOAD_VERSION=10.3.x
export QP_VERSION=10.3.0
./setup.sh

# Grant permission of docker group
sudo usermod -aG docker $USER

# Please logout and ssh again to run docker command.
```

docker ë¥¼ ì²˜ìŒ ì„¤ì¹˜í•œ ê²½ìš°, í˜„ì¬ shell ì´ docker group ì˜ ê¶Œí•œì„ ì•„ì§ ê°–ê³  ìˆì§€ ëª»í•©ë‹ˆë‹¤.
logout ì´í›„, ë‹¤ì‹œ ssh ì—°ê²°í•˜ì„¸ìš”.

<Callout type="important">
OS ë²„ì „ì´ë‚˜ ì¢…ë¥˜ì— ë”°ë¼ setup.sh ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°, ì•„ë˜ì™€ ê°™ì´ ì„¤ì¹˜í•©ë‹ˆë‹¤.
</Callout>
<details>
<summary>Manual steps replacing setup.sh</summary>
```bash
# Install docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh ./get-docker.sh
sudo systemctl start docker
sudo usermod -aG docker $USER

# Install docker-compose
curl -SL https://dl.querypie.com/releases/bin/v2.29.7/docker-compose-linux-x86_64 -o docker-compose
chmod +x docker-compose
sudo install -m 755 docker-compose /usr/local/bin/

# Install docker-compose.yml and config files
# NOTE: Please use the actual version number instead of '10.3.0'.
mkdir -p querypie/10.3.0
cd querypie/10.3.0
curl -L https://dl.querypie.com/releases/compose/10.3.x/package.tar.gz -o package.tar.gz
tar zxvf package.tar.gz

# Install logrotate config for docker daemon
sudo cp logrotate /etc/logrotate.d/querypie

```
</details>

### Harbor Login

QueryPie Docker Image ë¥¼ ë‚´ë ¤ë°›ì„ ìˆ˜ ìˆë„ë¡, Harbor Docker Registry ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.

<Callout type="info">
ìµœì´ˆ ì„¤ì¹˜ ì‹œ ê³ ê°ì‚¬ í•˜ë²„ ê³„ì •ì„ ë°œê¸‰í•˜ì—¬ ì‚¬ì „ì— ì „ë‹¬ë“œë¦½ë‹ˆë‹¤.
</Callout>
```bash
docker login harbor.chequer.io
Username:
Password:
```

ì•„ë˜ì™€ ê°™ì€ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš°, Harbor ì— ì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸ëœ ê²ƒì…ë‹ˆë‹¤.
```bash
WARNING! Your password will be stored unencrypted in /home/ubuntu/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credential-stores 

Login Succeeded
```

### compose-env ì„¤ì •

`./setup.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´, `querypie/<version>/` ë””ë ‰í† ë¦¬ ì•ˆì— `docker-compose.yml`, `compose-env` ë“± ì„¤ì • íŒŒì¼ì„ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤.
ì´ ë””ë ‰í† ë¦¬ ì•ˆìœ¼ë¡œ ì´ë™í•˜ì—¬, `compose-env` ë¼ëŠ” ì´ë¦„ì˜ ì„¤ì • íŒŒì¼ì„ í¸ì§‘í•©ë‹ˆë‹¤.

ê° í™˜ê²½ë³€ìˆ˜ì— ëŒ€í•œ ì„¤ëª…ì€ ë‹¤ìŒ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì—¬ ì£¼ì„¸ìš”: [ì»¨í…Œì´ë„ˆ í™˜ê²½ë³€ìˆ˜ ì•ˆë‚´](../container-environment-variables)
```bash
# Version of QueryPie Docker Image to run: 10.3.0 or later.
VERSION=10.3.0

# Common
## Secret key for encrypting communication between QueryPie client agents and QueryPie over port 9000/tcp.
## Must be exactly 32 characters in length.
## Suggested: 32-char random string via `openssl rand -hex 16`
AGENT_SECRET=

## Secret key used to encrypt sensitive information, such as database connection strings and SSH private keys.
## This key can be any string but is immutable once set.
## Suggested: 16-char random string via `openssl rand -hex 8`
KEY_ENCRYPTION_KEY=

# DB
## Suggested: host.docker.internal
DB_HOST=
DB_PORT=3306
DB_CATALOG=querypie
LOG_DB_CATALOG=querypie_log
ENG_DB_CATALOG=querypie_snapshot
## Suggested: querypie
DB_USERNAME=
## Suggested: 16-char random string via `openssl rand -hex 8`
DB_PASSWORD=
DB_MAX_CONNECTION_SIZE=20
## If youâ€™re using AWS Aurora, use the software.amazon.jdbc.Driver instead of org.mariadb.jdbc.Driver for automatic failover handling.
DB_DRIVER_CLASS=org.mariadb.jdbc.Driver

# Redis
## REDIS_NODES should be specified as a â€œHost:Portâ€ combination.
## In CLUSTER MODE, when specifying multiple nodes, separate each address with a comma.
## Example: Host1:6379,Host2:6379,Host3:6379
## Suggested: host.docker.internal:6379
REDIS_NODES=
## Suggested: 16-char random string via `openssl rand -hex 8`
REDIS_PASSWORD=

DAC_SKIP_SQL_COMMAND_RULE_FILE=skip_command_config.json
```

### MySQL / Redis êµ¬ë™

Single machine êµ¬ì„±ì—ì„œëŠ”, í•˜ë‚˜ì˜ VM ë‚´ì— QueryPie MySQL, QueryPie Redis ë¥¼ Container ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
ë‹¤ìŒì˜ ëª…ë ¹ìœ¼ë¡œ, MySQL, Redis ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
ì²˜ìŒ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, `compose-env` íŒŒì¼ì—ì„œ ì •ì˜í•œ Username, Password ë¥¼ ì ìš©í•˜ì—¬, ê¸°ë³¸ ê³„ì •ì„ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤.
```
docker-compose --env-file compose-env --profile database up -d
```
```
docker ps

CONTAINER ID  IMAGE                                            ... NAMES
0b8d8b9b9486  harbor.chequer.io/querypie/mysql:8.0.39          ... querypie-mysql-1
6d96b9cdc95e  harbor.chequer.io/querypie/redis:7.4.2           ... querypie-redis-1
```

### Tools êµ¬ë™

QueryPie Tools ëŠ” ì„¤ì¹˜ ê³¼ì •ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.
QueryPie Tools ëŠ” QueryPie MySQL ì— Table, Procedure ë“±ì„ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
MySQL ì˜ Database Table ë“±ì€ ì œí’ˆì˜ ë²„ì „ì— ë”°ë¼ ê·¸ ë‚´ìš©ì´ ë°”ë€Œê²Œ ë˜ë©°, Flyway ë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë„êµ¬ë¥¼ ì´ìš©í•´, í˜•ìƒì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
QueryPie Tools ëŠ” ì œí’ˆì˜ ë¼ì´ì„ ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

QueryPie Tools ëŠ” TCP Port 8050 ì—ì„œ ìš”ì²­ì„ ë°›ì•„ë“¤ì´ëŠ” API ì„œë²„ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

#### Tools ì‹¤í–‰

ë‹¤ìŒì˜ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ì—¬, QueryPie Tools ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
ì´í›„ `docker ps` ëª…ë ¹ìœ¼ë¡œ Container ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `docker logs -f querypie-tools-1` ëª…ë ¹ìœ¼ë¡œ Container ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
docker-compose --env-file compose-env --profile tools up -d
```
```
docker ps

CONTAINER ID  IMAGE                                            ... NAMES
6e867d744acb  harbor.chequer.io/querypie/querypie-tools:10.3.0 ... querypie-tools-1
0b8d8b9b9486  harbor.chequer.io/querypie/mysql:8.0.39          ... querypie-mysql-1
6d96b9cdc95e  harbor.chequer.io/querypie/redis:7.4.2           ... querypie-redis-1
```

#### Migration ì‹¤í–‰

QueryPie ê°€ í•„ìš”ë¡œ í•˜ëŠ” MySQL Table, Procedure ë“±ì„ ìƒì„±í•˜ëŠ” ì‘ì—…ì„, Migration ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.
ë‹¤ìŒì˜ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ì—¬, Migration ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
ìµœì´ˆ ì„¤ì¹˜ì˜ ê²½ìš°, ìˆ˜ë°±ê±´ì˜ DB Table ì„ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ, 1~2ë¶„ ê°€ëŸ‰ ì‹œê°„ì´ ì†Œìš”ë©ë‹ˆë‹¤.
```
docker exec -it querypie-tools-1 /app/script/migrate.sh runall
```
```
[2025-05-20 07:43:15] QueryPie migration is started.
--------------------------------------------------------------------------------
[2025-05-20 07:43:15] QueryPie `V67.11__9.10.0.11_workflow_rule_migration.sql` is started.
[2025-05-20 07:43:18] QueryPie `V67.11__9.10.0.11_workflow_rule_migration.sql` is finished.

...
[2025-05-20 07:44:17] QueryPie Snapshot `V5.0__10.2.8.0_oven_diary_tables_alter_json_column_type.sql` is started.
[2025-05-20 07:44:17] QueryPie Snapshot `V5.0__10.2.8.0_oven_diary_tables_alter_json_column_type.sql` is finished.
[2025-05-20 07:44:17] QueryPie Snapshot migration is finished.
--------------------------------------------------------------------------------
```

#### License ì‹¤í–‰

QueryPie Tools ì— license íŒŒì¼ì„ ì„¤ì¹˜í•˜ëŠ” ëª…ë ¹ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `license.crt` ë¼ëŠ” íŒŒì¼ ì´ë¦„ì€ ì˜ˆì‹œì…ë‹ˆë‹¤.
ê¸°ìˆ ì§€ì› ë‹´ë‹¹ìì—ê²Œ ì „ë‹¬ ë°›ì€ ë¼ì´ì„ ìŠ¤ íŒŒì¼ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.
ë¼ì´ì„ ìŠ¤ íŒŒì¼ì€ x509 í˜•ì‹ì˜ ì¸ì¦ì„œ íŒŒì¼ë¡œì„œ, í…ìŠ¤íŠ¸ íŒŒì¼ì…ë‹ˆë‹¤.
```
curl -XPOST 127.0.0.1:8050/license/upload -F file=@license.crt
```
```
[License] Upload: Success
```

#### Tools ì¢…ë£Œ

ì„¤ì¹˜ë¥¼ ìœ„í•œ ì¤‘ê°„ ê³¼ì •ì´ ì™„ë£Œë˜ì—ˆê¸°ì—, QueryPie Tools ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.
```
docker-compose --env-file compose-env --profile tools down
```

### QueryPie êµ¬ë™

QueryPie Tools ë¥¼ ì´ìš©í•´, MySQL Database Table ì„ ìƒì„±í•˜ê³ , License ë¥¼ ì„¤ì¹˜í•˜ë©´, ê¸°ë³¸ì ì¸ ì„¤ì¹˜ ê³¼ì •ì´ ê±°ì˜ ì™„ë£Œëœ ê²ƒì…ë‹ˆë‹¤.
ì´ì œëŠ” QueryPie Server Container ë¥¼ ì‹¤í–‰í•˜ì—¬, QueryPie ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë‹¤ìŒì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬, QueryPie Server Container ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```
docker-compose --env-file compose-env --profile querypie up -d
```

ì¼ë°˜ì ì¸ ì„œë²„ í™˜ê²½ì—ì„œ ì•½ 1ë¶„50ì´ˆ~2ë¶„10ì´ˆ í›„ì— QueryPie Container ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
```
docker ps

CONTAINER ID  IMAGE                                            ... NAMES
69353ab980d8  harbor.chequer.io/querypie/querypie:10.3.0       ... querypie-app-1
0b8d8b9b9486  harbor.chequer.io/querypie/mysql:8.0.39          ... querypie-mysql-1
6d96b9cdc95e  harbor.chequer.io/querypie/redis:7.4.2           ... querypie-redis-1
```

QueryPie Container ì˜ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ê¸°ë™í•˜ê³  ë‚˜ë©´, Container Log ì—ì„œ, ë‹¤ìŒê³¼ ê°™ì€ ì‹¤í–‰ ì„±ê³µ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤.
```
docker logs -f querypie-app-1

....
READYZ             | ########################################################################
READYZ             | #                                                                      #
READYZ             | #     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    #
READYZ             | #    â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    #
READYZ             | #    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      #
READYZ             | #    â–ˆâ–ˆâ•‘â–„â–„ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      #
READYZ             | #    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    #
READYZ             | #     â•šâ•â•â–€â–€â•â•  â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•    #
READYZ             | #                                                                      #
READYZ             | ########################################################################
READYZ             | .--------------------------------------------------------.
READYZ             | |  ğŸš€ QueryPie Server has been successfully started! ğŸš€  |
READYZ             | |  Timestamp in UTC: Sun Jan 26 15:00:56 UTC 2025        |
READYZ             | |  Timestamp in KST: Mon Jan 27 00:00:56 KST 2025        |
READYZ             | '--------------------------------------------------------'
....
```

### ì„¤ì¹˜ ì™„ë£Œ

ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.
ì´ì œ QueryPie ê°€ ì‘ë™í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ê¸°ë³¸ ì„¤ì • ì ˆì°¨

ìš´ì˜ í™˜ê²½ì— ë”°ë¼ ì„¤ì¹˜ ì´í›„ í•„ìˆ˜ì ìœ¼ë¡œ ìˆ˜í–‰ì´ í•„ìš”í•œ ì„¤ì •ë“¤ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

### ê³µí†µ ì„¤ì •

ì„¤ì¹˜ ì§í›„ QueryPie ì‚¬ìš© ì‹œ í•„ìš”í•œ ê³µí†µ ì ˆì°¨ ì…ë‹ˆë‹¤.

#### QueryPie Web Base URL ì„¤ì •

> ì„¤ì • ê²½ë¡œ: Admin Page â†’ General
Web Console ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ QueryPie ì˜ URL ì£¼ì†Œì…ë‹ˆë‹¤. <br/>(ì˜ˆì‹œ. `https://querypie.customer.com`)<br/>ì´ URL ì€ QueryPie ì˜ Base URL ì´ë¼ê³  ë¶€ë¥´ê¸°ë„ í•©ë‹ˆë‹¤.

ì´ URL ì€ `/` ë¡œ ëë‚˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. `https://querypie.customer.com/` ì™€ ê°™ì´ URL ì˜ ë§ˆì§€ë§‰ì— `/` ë¥¼ ë¶™ì´ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì—¬ ì£¼ì„¸ìš”.

ì´ URL ì€ ì•„ë˜ì˜ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

* SSO Integration ì˜ ì¸ì¦ ê³¼ì •ì—ì„œ, callback ì£¼ì†Œë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
* Web Console ì—ì„œ User Agent ë¥¼ ë‚´ë ¤ë°›ëŠ” ë§í¬ì— ì‚¬ìš©ë©ë‹ˆë‹¤.
* ê·¸ ì™¸ ìì„¸í•œ ìš©ë„ëŠ”, [https://chequer.atlassian.net/wiki/spaces/QCP/pages/876937310](https://chequer.atlassian.net/wiki/spaces/QCP/pages/876937310) ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

<figure data-layout="center" data-align="center">
<img src="/installation/installation/installation-guide-simple-configuration/image-20250520-081112.png" alt="image-20250520-081112.png" width="1074" />
</figure>

### ì œí’ˆë³„ ì„¤ì •

#### DAC/SAC: Proxy ì ‘ì† ì£¼ì†Œ ì„¤ì •

QueryPie Database ì— ì ‘ì†í•˜ì—¬, DAC/SAC ì˜ Proxy ì ‘ì†ì„ ìœ„í•œ ì£¼ì†Œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

<Callout type="info">
QueryPie Web Console ì—ì„œ QueryPie Database ì— ì—°ê²°í•˜ë ¤ë©´, DB ì—°ê²° ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:[DB Connections](../../administrator-manual/databases/connection-management/db-connections)

Database ì—°ê²° ì„¤ì • ê³¼ì •ì—ì„œ QueryPie MySQL ì˜ Hostname, Username, Password ê°€ í•„ìš”í•©ë‹ˆë‹¤.

* Hostname: `host.docker.internal`
* Username: `querypie` (ê¸°ë³¸ ì„¤ì •ì˜ ê²½ìš°)
* Password: (QueryPie ì„¤ì¹˜í•œ ë””ë ‰í† ë¦¬ì˜ compose-env íŒŒì¼ì—ì„œ DB_PASSWORD ë¥¼ í™•ì¸í•˜ì„¸ìš”.)

compose-env ì— ì„¤ì •ëœ ê°’ ì¤‘ DB_PASSWORD, REDIS_PASSWORD, KEY_ENCRYPTION_KEY ë“±ì€ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.
ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ì´ ê°’ì„ ë…¸ì¶œí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì—¬ ì£¼ì„¸ìš”.
</Callout>

ì•„ë˜ `<customer-proxy-address>` ë¶€ë¶„ì„ ê³ ê°ì‚¬ì˜ Proxy ì ‘ì† IP í˜¹ì€ ë„ë©”ì¸ìœ¼ë¡œ ê°ˆìŒí•˜ì—¬ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

<Callout type="important">
í•´ë‹¹ ì£¼ì†ŒëŠ” `http`  `https` ì™€ ê°™ì€ Scheme ì„ ë¶™ì—¬ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.
</Callout>
```
UPDATE querypie.proxies SET host = '<customer-proxy-address>' WHERE id = 1;
```

ì¿¼ë¦¬ ì‹¤í–‰ì— ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ì´ í™•ì¸ë˜ì—ˆìœ¼ë©´, ì•„ë˜ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë“±ë¡ì´ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
```
SELECT * FROM querypie.proxies;
```

Proxy ì ‘ì†ì„ ìœ„í•œ ì£¼ì†Œë¥¼ QueryPie Database ì— ë“±ë¡í•œ ì´í›„, Server Container ë¥¼ ì¬ì‹œì‘í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
User Agent ì—ì„œ ë¡œê·¸ì¸ì„ ì‹œë„í•˜ë©´, ì›¹ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì¸ì¦ì„ ì§„í–‰í•œ ì´í›„, User Agent ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœê°€ ë©ë‹ˆë‹¤.

<figure data-layout="center" data-align="center">
<img src="/installation/installation/installation-guide-simple-configuration/image-20250520-082706.png" alt="image-20250520-082706.png" width="1100" />
</figure>

#### KAC: Proxy ì ‘ì† ì£¼ì†Œ ì„¤ì •

QueryPie Database ì— ì ‘ì†í•˜ì—¬, KAC ì˜ Proxy ì ‘ì†ì„ ìœ„í•œ ì£¼ì†Œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

ì•„ë˜ `<customer-proxy-fqdn>` ë¶€ë¶„ì„ ê³ ê°ì‚¬ì˜ Proxy ì ‘ì† IP í˜¹ì€ ë„ë©”ì¸ìœ¼ë¡œ ê°ˆìŒí•˜ì—¬ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

íŠ¹ì´ì‚¬í•­ìœ¼ë¡œ DAC/SAC ì„¤ì •ê³¼ëŠ” ë‹¤ë¥´ê²Œ `http`  `https` ì™€ ê°™ì€ Schemeì„ ììœ ë¡­ê²Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<Callout type="important">
ì„¤ì • í›„, ë‚´ë¶€ì ìœ¼ë¡œ ë“±ë¡í•œ ì£¼ì†Œì— ë§ëŠ” TLS ì¸ì¦ì„œ ë°œê¸‰ì„ ìœ„í•´ QueryPie Container ì¬ ê¸°ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.
</Callout>
```
UPDATE querypie.k_proxy_setting SET host = 'https://<customer-proxy-fqdn>';
```

<figure data-layout="center" data-align="center">
<img src="/installation/installation/installation-guide-simple-configuration/image-20250520-084243.png" alt="image-20250520-084243.png" width="1096" />
</figure>

#### WAC: Proxy ì ‘ì† ì£¼ì†Œ ì„¤ì •

> ì„¤ì • ê²½ë¡œ: Admin Page â†’ Web Apps â†’ Web App Configurations
WACì˜ Proxy ì ‘ì† ì£¼ì†Œ ì„¤ì •ì€ Web Console ì—ì„œ ìˆ˜í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ìì„¸í•œ ì„¤ì • ì ˆì°¨ëŠ” ë‹¤ìŒ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”: [Web App Configurationsì—ì„œ WAC ì´ˆê¸° ì„¤ì •í•˜ê¸°](../../administrator-manual/web-apps/wac-quickstart/initial-wac-setup-in-web-app-configurations)

<Callout type="important">
ì„¤ì • í›„, ë‚´ë¶€ì ìœ¼ë¡œ ë“±ë¡í•œ ì£¼ì†Œì— ë§ëŠ” TLS ì¸ì¦ì„œ ë°œê¸‰ì„ ìœ„í•´ QueryPie Container ì¬ ê¸°ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.
</Callout>


