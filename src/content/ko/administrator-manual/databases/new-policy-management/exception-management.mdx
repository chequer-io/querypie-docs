---
title: 'Exception Management'
confluenceUrl: 'https://querypie.atlassian.net/wiki/spaces/QM/pages/1064796485/Exception+Management'
---

import { Callout } from 'nextra/components'

# Exception Management

### Overview

정책에 대한 예외 처리는 Workflow의 정책 예외 신청의 경우와 관리자가 직접 정책예외 설정을 하는 경우 두가지가 있습니다.
이전의 DAC 정책은 정책예외는 Workflow를 통한 예외 신청 (Unmasking, Restricted Data Access)만 가능했으나 신규 정책에서는 관리자가 직접 정책 예외를 설정하고 Workflow로 처리된 것과 통합관리 할 수 있습니다.

### Workflow를 통한 정책 예외관리

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/new-policy-management/exception-management/image-20250629-172021.png" alt="image-20250629-172021.png" width="760" />
</figure>

Databases &gt; Data Policies &gt; Exception Management에 Workflow 탭에 Wokflow로 제출되어 승인된 임시 정책 예외 건이 표시되고 활성 상태를 관리할 수 있습니다.

* Exception Type : Unmasking, Restricted Data Access와 같이 정책 예외 유형이 표시됩니다.
* Connection : 정책예외 대상 DB 커넥션이 표시됩니다.
* Data Path : Workflow에서 요청한 경로가 표시됩니다. Tag로 신청한 경우 대상이 동적으로 바뀌기 때문에 Data Path에 값이 표시되지 않습니다.
* Data Tag : Workflow에서 요청 양식에서 지정한 태그가 표시됩니다. 
* Allowed User : 일시적으로 정책 예외가 승인된 사용자 또는 그룹이 표시됩니다.
* Start Time
* End Time
* Status
    * Active : 정책 예외가 활성상태임을 나타냅니다. 관리자가 Inactive 상태로 변경할 수 있습니다.
    * Inactive : 정책 예외 상태를 관리자가 임시로 비활성 상태로 변경한 경우 Inactive로 표시됩니다.
* Excepted By : 링크를 클릭 하여 정책예외가 승인된 workflow를 볼 수 있습니다.

### 관리자가 직접 정책 예외 설정

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/new-policy-management/exception-management/image-20250727-211515.png" alt="Databases &gt; Policy Management &gt; Exception Management 의 Manual 탭" width="760" />
<figcaption>
Databases &gt; Policy Management &gt; Exception Management 의 Manual 탭
</figcaption>
</figure>

Databases &gt; Policy Mananagement &gt; Exception Management 의 Manual 탭에서 관리자가 수동으로 정책 예외 대상을 지정할 수 있습니다.

#### 정책 예외 설정하기

<Callout type="info">
11.3.0에서 효력 만료일을 지정하는 방식이 변경되었습니다.

Workflow의 정책예외 신청 및 관리자의 수동 정책 예외 설정에서 공통으로 “Policy Exception Schedule” 으로 항목이름이 통일되었고, 효력 시작 시점과 종료시점을 명시적으로 지정할 수 있도록 변경되었습니다.

11.3.0에서 모든 정책예외 유형에 대해 정규식으로 특정 데이터 경로를 지정할 수 있도록 변경되었습니다.
</Callout>

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/new-policy-management/exception-management/image-20250727-210957.png" alt="수동 정책 예외 생성" width="760" />
<figcaption>
수동 정책 예외 생성
</figcaption>
</figure>

`+ Create Exception` 버튼을 클릭하고 정책 예외에 대한 설정을 합니다.

*  **Exception Name**  : 정책 예외의 이름을 입력합니다.
*  **Exception Type**  : Unmasking, Restricted Column Access, Restricted Table Access 와 같이 정책 예외 유형을 선택합니다.
*  **Data Scope**  : 정책예외 대상 테이블 또는 컬럼을 지정합니다. <Badge color="grey">11.1.0</Badge> 
    * Data Tag 를 선택하면 태그로 대상을 지정할 수 있습니다. Databases &gt; Policy Management &gt; Data Paths에 설정한 태그만 사용할 수 있습니다. 태그는 같은 키는 OR 연산이고 다른 키 사이는 AND 연산입니다.
    * Specific data path 를 선택하면 직접 대상 테이블 또는 컬럼을 지정할 수 있습니다. <br/>정규식으로 지정할 수도 있습니다. <Badge color="grey">11.3.0</Badge> 
*  **Allowed User**  : 일시적으로 정책 예외가 필요한 대상을 지정합니다.
    * User / Group : 사용자 또는 그룹을 지정할 수 있습니다.
    * Attribute of Users : 사용자 Profile에 등록된 Identifier 유형의 속성을 사용하여 동적으로 대상을 지정할 수 있습니다. <Badge color="grey">11.1.0</Badge> 
*  **Policy Exception Schedule**  : 정책 예외가 적용되는 기간을 설정하여 요청할 수 있습니다. 최대 정책 예외의 유효 기간은 관리자가 설정한 최대 기간(Maximum Policy Exception Period)을 넘겨서 신청 수 없습니다.
    * Specific Period : 시작 시점과 종료 시점을 지정합니다. 시간단위로 지정할 수 있습니다.
    * Time Duration : 시작 시점으로 부터 지정한 시간까지 유효하도록 지정할 수 있습니다.
    * Start On Approval 옵션 : Specific Period 또는 Time duration 두가지 방법 모두 Start On Approval 옵션을 활성화(체크)할 경우 승인시점 부터 효력이 발생됩니다. 일반적으로 요청하는 사람이 승인자의 승인 시점을 알 수 없기 때문에 이 옵션을 사용하는 것은 권장하지 않습니다. (승인 만료기간 제약사항이 발생되는 경우 다시 요청을 해야하는 경우가 발생될 수 있기 때문입니다.) Urgent Mode 사용하는 경우도 승인 시점은 사후이고 언제 승인이 될지 알 수 없으므로 가급적 Start On Approval 옵션은 반드시 사용해야 하는 특수한 상황을 제외하고 권장하지 않습니다.
*  **Reason for Request**  : 정책 예외에 대한 간단한 설명을 입력합니다.

<Callout type="info">
최대 정책 예외 기간 설정은 Admin &gt; Databases &gt; General &gt; Configurations의 Maximum Policy Exception Period 설정값에 의해 제한됩니다.
</Callout>

#### 정책 예외의 상태 즉시 변경하기

관리자가 정책 예외를 생성할 때 Exception Expiration에 지정한 시점까지 정책 예외 상태가 유지되지만, 경우에 따라 즉시 예외상태를 해제해야 할 수도 있습니다.
목록의 Status 열에서 Active, Inactive 중 하나를 선택하여 즉시 상태 변경을 할 수 있으므로 정책예외를 삭제하거나 새로 만들지 않고도 쉽게 대응할 수 있습니다.

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/new-policy-management/exception-management/image-20250716-055008.png" alt="image-20250716-055008.png" width="160" />
</figure>

#### 수동으로 생성한 정책 예외 수정하기

목록에서 특정 정책예외 행을 클릭하면 설정 내용을 수정할 수 있습니다.
(Exception Type은 변경할 수 없습니다.)

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/new-policy-management/exception-management/image-20250716-055149.png" alt="image-20250716-055149.png" width="589" />
</figure>


#### 수동으로 생성한 정책 예외 삭제하기

<figure data-layout="center" data-align="center">
<img src="/administrator-manual/databases/new-policy-management/exception-management/image-20250716-055525.png" alt="image-20250716-055525.png" width="365" />
</figure>


기본적으로 정책예외는 특정 시점이 지나면 만료되지만 관리자가 수동을 생성한 정책예외는 언제든지 삭제할 수 있습니다.하나 이상의 특정 정책예외 행을 체크하고 `Delete` 버튼을 누릅니다.
