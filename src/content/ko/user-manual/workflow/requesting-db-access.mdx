---
title: 'DB Access Request 요청하기'
---

import { Callout } from 'nextra/components'

# DB Access Request 요청하기

### Overview

아래 순서에 따라 접근이 필요한 DB 커넥션에 대한 Privilege를 요청할 수 있습니다.
요청 후 승인이 완료될 경우 즉시 권한이 부여되며 QueryPie Web에 있는 SQL Editor 또는 Agent를 통해 권한을 받은 커넥션에 접속할 수 있습니다.


### DB Access Request 요청하기

#### 1. 결재 규칙 선택하기

* Approval Rule을 선택하여 목적에 맞는 결재 규칙을 선택하세요. 선택한 규칙에 따라 승인 대상이 달라집니다. 
* 만약 관리자가 승인자를 지정한 결재 규칙이 선택된 경우, 자동으로 승인자가 지정되며 추가 및 변경이 불가합니다.
*  **Approval Expiration Date** : 승인 만료일을 입력합니다. Maximum Approval Duration을 통해 최대값을 설정할 수 있습니다. Approval Expiration Date은 Access Expiration Date을 초과할 수 없습니다. 초과한 경우, 상신 할 수 없습니다. Maximum Approval Duration &gt; Maximum Access Duration인 경우, Maximum Approval Duration의 값이 Maximum Access Duration의 값과 동일하게 적용됩니다. 예) Maximum Approval Duration은 14일이고 Maximum Access Duration은 5일인 경우, Maximum Approval Duration의 값도 5일로 적용됩니다. 
    * 단, Urgent Mode로 상신 시, 위 조건을 무시합니다.

<figure data-layout="center" data-align="center">
![Screenshot-2025-08-26-at-12.21.07-AM.png](/user-manual/workflow/requesting-db-access/Screenshot-2025-08-26-at-12.21.07-AM.png)
</figure>

#### 2. 승인자 지정하기

* 결재 라인에서 `+` 버튼을 누르면 단계별 승인자를 지정할 수 있는 팝업창이 표시됩니다. 
* 이 팝업창에서 결재 승인 조건 및 승인자를 추가 후 `Save` 버튼을 눌러 결재 라인을 저장합니다.
* 선택 가능한 승인 조건은 다음과 같습니다. 
    * A single Assignee can complete the approval request : 여러 명 중 한 명의 승인만으로 결재 요청이 승인 처리됩니다.
    * All Assignees must approve this request : 모든 승인자가 승인하여야 결재 요청이 승인 처리됩니다.

<figure data-layout="center" data-align="center">
![screenshot-20240724-154729.png](/user-manual/workflow/requesting-db-access/screenshot-20240724-154729.png)
</figure>

#### 3. 참조자 지정하기

* 결재 라인에서 `+` 버튼을 누르면 참조자를 지정할 수 있는 팝업창이 표시됩니다. 
    * 관리자가 참조자 지정을 허용하지 않은 경우에는 Reviewer 박스가 표시되지 않습니다. 
* 이 팝업창에서 결재 승인 조건 및 승인자를 추가합니다. 
* `Save` 버튼을 눌러 모달을 닫고 참조자 지정을 완료합니다.

<figure data-layout="center" data-align="center">
![screenshot-20240724-171350.png](/user-manual/workflow/requesting-db-access/screenshot-20240724-171350.png)
</figure>

#### 4. 사후 승인으로 요청 보내기

<Callout type="info">
11.3.0 부터 사후 승인으로 요청을 하는 경우 결재 만료일을 지정할 수 없도록 변경되었습니다.
</Callout>

* 사후 승인 기능이 허용된 결재 규칙을 선택한 경우 Urgent Mode 스위치가 표시됩니다. 
* Urgent mode = On 으로 설정 후 결재 요청을 등록하면 즉시 권한을 부여받거나 작업을 수행할 수 있습니다.

<figure data-layout="center" data-align="center">
![screenshot-20240523-184245.png](/user-manual/workflow/requesting-db-access/screenshot-20240523-184245.png)
</figure>

<Callout type="important">
**Q. Urgent Mode 스위치가 보이지 않아요.**
A. 관리자가 Urgent Mode를 허용하지 않은 결재 규칙을 선택한 경우, 해당 기능이 표시되지 않습니다.
</Callout>

#### 5. 요청 정보 입력하기

*  **Title**  : 요청 제목을 입력합니다. 
*  **Access Expiration Date**  : 요청 권한의 만료일자를 입력합니다. 기본값은 관리자 페이지에서 DAC configurations의 Maximum Access Duration 값을 따릅니다. 
*  **Reason for Request**  : 접근 권한을 요청하는 사유를 입력합니다. 

<figure data-layout="center" data-align="center">
![User &gt; Workflow &gt; Submit Request &gt; DB Access Request &gt; Request Summary](/user-manual/workflow/requesting-db-access/Screenshot-2025-08-26-at-12.24.44-AM.png)
<figcaption>
User &gt; Workflow &gt; Submit Request &gt; DB Access Request &gt; Request Summary
</figcaption>
</figure>

#### 6. 요청할 DB 커넥션 선택 및 권한 지정하기

* Request Summary 영역 내 테이블에는 현재 QueryPie에 등록되어 있는 DB 커넥션 목록이 표시됩니다. 
    *  **Privilege Type**  : 특정 DB 커넥션에 요청할 Privilege Type을 지정하면 그 값이 표시됩니다. 
    *  **Current Privilege**  : 해당 커넥션의 현재 권한을 표시합니다. 현재 접근 권한이 없는 경우 비어있습니다.
    *  **Expiration Date**  : 현재 해당 커넥션에 부여되어 있는 권한의 만료일자를 표시합니다.
* 접근 권한을 요청할 DB 커넥션을 체크박스로 선택 후 아래 두가지 방법으로 Privilege Type을 선택할 수 있습니다.
<figure data-layout="center" data-align="center">
![드롭다운을 통해 커넥션 별로 지정](/user-manual/workflow/requesting-db-access/screenshot-20240801-191054.png)
<figcaption>
드롭다운을 통해 커넥션 별로 지정
</figcaption>
</figure>
<figure data-layout="center" data-align="center">
![체크박스 및 Apply 버튼을 통한 일괄 적용](/user-manual/workflow/requesting-db-access/screenshot-20240801-191152.png)
<figcaption>
체크박스 및 Apply 버튼을 통한 일괄 적용
</figcaption>
</figure>
* 선택 가능한 Privilege Type은 다음과 같습니다. 
    *  **Read/Write 권한**  : 전체 권한입니다. 
    *  **Read-Only 권한**  : SELECT만 가능한 권한입니다.
    *  **기타 권한**  : 관리자가 추가로 생성한 권한이며 생성한 권한이 없다면 위 두 가지 권한만 표시됩니다. 
* 결재 규칙 지정 및 요청 본문 입력이 완료되었다면 페이지 하단의 `Submit` 버튼을 눌러 요청을 상신합니다.

### DB Access Request 요청하기 (Schema Level)

<Callout type="info">
11.5.0 부터 Schema(Logical DB) 단위의 접근신청이 가능합니다.
아래의 내용은 공통된 부분은 생략하고 다른 부분 위주로 설명했습니다.
</Callout>

1. Submit Request 버튼을 누르고 메뉴에서 “DB Access Request (Schema Level)을 선택합니다.
  <figure data-layout="center" data-align="center">
  ![image-20251218-120432.png](/user-manual/workflow/requesting-db-access/image-20251218-120432.png)
  </figure>
2. `Add Item` 버튼을 누릅니다. <br/>  
  <figure data-layout="center" data-align="center">
  ![image-20251218-120721.png](/user-manual/workflow/requesting-db-access/image-20251218-120721.png)
  </figure>
3. 왼쪽 패널에서 접속할 커넥션을 선택합니다.
  <figure data-layout="center" data-align="center">
  ![image-20251218-121011.png](/user-manual/workflow/requesting-db-access/image-20251218-121011.png)
  </figure>
4. 커넥션을 선택하면 우측의 privilege 항목에 기본적으로 select 권한이 필요한 스키마에 자동으로 SELECT privilege가 부여된 것을 볼 수 있습니다. 이 항목을 지울수도 있지만 그랬을 때 Web editor 또는 proxy에서 스키마 구조를 조회하는 시점에 오류가 발생할 수 있으니 불가피한 경우가 아니라면 이 항목을 제거하지 않습니다.<br/>`Add Item` 버튼을 누릅니다.<br/>
  <figure data-layout="center" data-align="center">
  ![image-20251218-121402.png](/user-manual/workflow/requesting-db-access/image-20251218-121402.png)
  </figure>
5. 아래에 대상을 추가할 수 있는 행이 추가됩니다. schema 구조가 있는 DBMS (Oracle, Postgres 등)은 대상 이름을 입력할 때 반드시 `{database 이름}`.`{schema 이름}` 의 형식으로 입력해야합니다. MySQL 과 같이 schema 구조가 없는 DBMS는 논리 DB 이름만 입력하면 됩니다.
  <figure data-layout="center" data-align="center">
  ![image-20251218-122027.png](/user-manual/workflow/requesting-db-access/image-20251218-122027.png)
  </figure>
    * Oracle 예시 : ORCLDB.TESTUSER
    * PostgreSQL 예시 : testdb.test_schema
    * MySQL 예시 : sakila<br/>
6. privilege 할당은 먼저 팝업 창 우측 상단의 Host Level Privilege 항목에서 원하는 priivilege type을 선택합니다. ( 스키마 레벨 privilege는 host level privilege 의 범위 내에서만 부여가 가능하기 때문입니다. 예를 들어 Read/Write를 Host Level Privilege 로 선택했다면 그 범위 내에서 SELECT, INSERT 등을 부여할 수 있지만 Read-Only를 Host Level Privilege로 선택했다면 SELECT만 지정할 수 있습니다.) Host Level privilege에 할당이 필요한 privilege가 없다면 관리자에게 해당 커넥션에 대해 특정 privilege가 있는 privilege type을 생성해달라고 요청해야합니다.<br/>
  <figure data-layout="center" data-align="center">
  ![image-20251218-122450.png](/user-manual/workflow/requesting-db-access/image-20251218-122450.png)
  </figure>
7. 아래에 표시되는 Host Level Others, Host Level Functions는 설정을 보기만 할 수 있습니다. Host Level의 Privilege의 속성에 의해 Schema Level 도 privilege가 종속되기 때문에 상위의 정보를 확인하는 용도로 사용됩니다.
  <figure data-layout="center" data-align="center">
  ![image-20251218-122702.png](/user-manual/workflow/requesting-db-access/image-20251218-122702.png)
  </figure>
8. `OK` 버튼을 누르고 양식의 나머지 부분을 입력한뒤 `Submit` 버튼을 눌러 요청을 마무리합니다.
