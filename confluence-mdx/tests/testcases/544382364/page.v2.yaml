"parentType": "page"
"parentId": "544382060"
"ownerId": "630c844a9796033b256b98a5"
"lastOwnerId": !!null "null"
"createdAt": "2024-07-14T05:07:40.942Z"
"authorId": "630c844a9796033b256b98a5"
"position": !!int "207232491"
"id": "544382364"
"version":
  "number": !!int "8"
  "message": ""
  "minorEdit": !!bool "false"
  "authorId": "712020:4695d172-e6d5-41aa-ab9f-59b150d8dc22"
  "createdAt": "2025-04-14T02:24:16.260Z"
  "ncsStepVersion": "601"
"status": "current"
"body":
  "atlas_doc_format":
    "representation": "atlas_doc_format"
    "value": "{\"type\":\"doc\",\"content\":[{\"type\":\"panel\",\"attrs\":{\"panelType\"\
      :\"info\"},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"해당\
      \ 문서는 \",\"type\":\"text\"},{\"text\":\"QueryPie Enterprise 9.20.0 기준\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"strong\"}]},{\"text\":\"으로 작성되었습니다.\",\"type\"\
      :\"text\"}]}]},{\"type\":\"extension\",\"attrs\":{\"layout\":\"default\",\"\
      extensionType\":\"com.atlassian.confluence.macro.core\",\"extensionKey\":\"\
      toc\",\"parameters\":{\"macroParams\":{\"minLevel\":{\"value\":\"1\"},\"maxLevel\"\
      :{\"value\":\"6\"},\"outline\":{\"value\":\"false\"},\"style\":{\"value\":\"\
      disc\"},\"exclude\":{\"value\":\"토픽\"},\"type\":{\"value\":\"list\"},\"printable\"\
      :{\"value\":\"true\"}},\"macroMetadata\":{\"macroId\":{\"value\":\"908303f4-956c-42f6-934c-e029e57519ad\"\
      },\"schemaVersion\":{\"value\":\"1\"},\"title\":\"목차\"}},\"localId\":\"7044a520-d23f-4ce1-9d21-1ec2df329420\"\
      }},{\"type\":\"paragraph\"},{\"type\":\"heading\",\"attrs\":{\"level\":2},\"\
      content\":[{\"text\":\"쿼리파이 접근 제어 정책 개요  \",\"type\":\"text\"}]},{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"쿼리파이에서 정의하는 접근 제어 정책은 EABAC(Enhanced Attribute\
      \ Based Access Control)을 기반으로 동작합니다. EABAC은 쿼리파이 사용자의 역할(Role)과 속성(Attribute)을\
      \ 기반으로 쿼리파이에 등록된 리소스에 대한 접근을 제어하고 권한 관리를 수행할 수 있는 정책의 통제 방식을 의미합니다. RBAC(Role-Based\
      \ Access Control) 및 ABAC(Attribute-Based Access Control)의 기능을 결합하여 더욱 유연하고 정교한\
      \ 접근 제어를 제공합니다. 모든 정책은 All Deny를 전제로 동작합니다. \",\"type\":\"text\"}]},{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"EABAC 은 Role, Policy 두 가지로 동작합니다. Role\
      \ 설정은 GUI 로 하며, Policy 정의는 코드(YAML)로 관리합니다.\",\"type\":\"text\"}]},{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"쿠버네티스 정책의 경우, 실제 쿠버네티스에 존재하는 네임스페이스에\
      \ 국한되는 Role과 네임스페이스 범위 외 리소스를 지원하는 ClusterRole 양측 모두를 수용할 수 있는 종합적 모델로 스펙이 제작되었습니다.\
      \ \",\"type\":\"text\"}]},{\"type\":\"paragraph\"},{\"type\":\"heading\",\"\
      attrs\":{\"level\":2},\"content\":[{\"text\":\"쿠버네티스 정책 YAML 기본 구조\",\"type\"\
      :\"text\"}]},{\"type\":\"paragraph\",\"content\":[{\"text\":\"일부 항목을 제외한 전반\
      \ 정책 코드에서 와일드카드(“*”) 및 정규표현식(\",\"type\":\"text\"},{\"text\":\"RE2 형식\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"link\",\"attrs\":{\"href\":\"https://github.com/girishji/re2/wiki/Syntax\"\
      }}]},{\"text\":\": \",\"type\":\"text\"},{\"text\":\"^$\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\" 명시 필수) 패턴을 지원합니다.\",\"type\"\
      :\"text\"}]},{\"type\":\"table\",\"attrs\":{\"layout\":\"default\",\"width\"\
      :760.0,\"localId\":\"35831a4b-16f9-461f-96a1-0af983cbf59e\"},\"content\":[{\"\
      type\":\"tableRow\",\"content\":[{\"type\":\"tableHeader\",\"attrs\":{\"colspan\"\
      :1,\"background\":\"var(--ds-background-accent-gray-subtlest, #F4F5F7)\",\"\
      rowspan\":1,\"colwidth\":[111.0]},\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"Category\",\"type\":\"text\",\"marks\":[{\"type\":\"strong\"}]}]}]},{\"\
      type\":\"tableHeader\",\"attrs\":{\"colspan\":1,\"background\":\"var(--ds-background-accent-gray-subtlest,\
      \ #F4F5F7)\",\"rowspan\":1,\"colwidth\":[110.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"Property\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"strong\"}]}]}]},{\"type\":\"tableHeader\",\"attrs\":{\"colspan\":1,\"background\"\
      :\"var(--ds-background-accent-gray-subtlest, #F4F5F7)\",\"rowspan\":1,\"colwidth\"\
      :[87.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"Required\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"strong\"}]}]}]},{\"type\":\"tableHeader\"\
      ,\"attrs\":{\"colspan\":1,\"background\":\"var(--ds-background-accent-gray-subtlest,\
      \ #F4F5F7)\",\"rowspan\":1,\"colwidth\":[255.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"Description\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"strong\"}]}]}]},{\"type\":\"tableHeader\",\"attrs\":{\"colspan\":1,\"background\"\
      :\"var(--ds-background-accent-gray-subtlest, #F4F5F7)\",\"rowspan\":1,\"colwidth\"\
      :[197.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"Valid\
      \ Values\",\"type\":\"text\",\"marks\":[{\"type\":\"strong\"}]}]}]}]},{\"type\"\
      :\"tableRow\",\"content\":[{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"\
      rowspan\":1,\"colwidth\":[111.0]},\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"apiVersion\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]},{\"\
      type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[110.0]},\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"-\",\"type\":\"\
      text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"\
      colwidth\":[87.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"O\",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[255.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"작성된 YAML Code의 버전입니다. 시스템에서 관리하는 값으로, 수정이 불필요합니다.\"\
      ,\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"\
      rowspan\":1,\"colwidth\":[197.0]},\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"kubernetes.rbac.querypie.com/v1\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]}]}]}]},{\"type\":\"tableRow\",\"content\":[{\"type\"\
      :\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[111.0]},\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"kind\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]}]}]},{\"type\":\"tableCell\",\"attrs\"\
      :{\"colspan\":1,\"rowspan\":1,\"colwidth\":[110.0]},\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"-\",\"type\":\"text\"}]}]},{\"type\":\"\
      tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[87.0]},\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"O\",\"type\":\"text\"}]}]},{\"\
      type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[255.0]},\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"작성된 YAML Code의 종류입니다.\
      \ 시스템에서 관리하는 값으로, 수정이 불필요합니다.\",\"type\":\"text\"}]}]},{\"type\":\"tableCell\"\
      ,\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[197.0]},\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"KacPolicy\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]}]}]}]},{\"type\":\"tableRow\",\"content\":[{\"\
      type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[111.0]},\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"spec:\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\"\
      :\"  \",\"type\":\"text\"},{\"text\":\"<effect>\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"\
      rowspan\":1,\"colwidth\":[110.0]},\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"-\",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"\
      colspan\":1,\"rowspan\":1,\"colwidth\":[87.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"O\",\"type\":\"text\"}]}]},{\"type\":\"tableCell\"\
      ,\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[255.0]},\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"정책의 구체적인 규칙의 허용 또는 거부 여부 지정합니다.\
      \ \",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"\
      listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"각 정책은\
      \ 이하의 스펙만 허용합니다: \",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\"\
      :[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"단일 Allow \",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"단일 Deny\",\"type\":\"text\"\
      }]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"단일 Allow & 단일 Deny\",\"type\":\"text\"}]}]}]}]},{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"Deny가 Allow보다\
      \ 우선순위가 높습니다.\",\"type\":\"text\"}]}]}]}]},{\"type\":\"tableCell\",\"attrs\"\
      :{\"colspan\":1,\"rowspan\":1,\"colwidth\":[197.0]},\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"allow\",\"type\":\"text\",\"marks\":[{\"\
      type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"deny\",\"\
      type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]},{\"type\":\"tableRow\"\
      ,\"content\":[{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"\
      colwidth\":[111.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\" \",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[110.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"resources\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\"\
      :1,\"colwidth\":[87.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"O\",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[255.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"접근을 허용/거부할 리소스를 지정합니다. \",\"type\":\"text\"},{\"type\"\
      :\"status\",\"attrs\":{\"color\":\"blue\",\"style\":\"bold\",\"text\":\"와일드카드\
      \ 및 정규표현식 허용\",\"localId\":\"2cc8eb02-be82-493c-9696-cb2a8aaf9c0d\"}},{\"text\"\
      :\" \",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[197.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"- \\\"cluster:*\\\"\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]}]},{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      - \\\"cluster:^eks-.*$\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]}]}]}]},{\"type\":\"tableRow\",\"content\":[{\"type\":\"tableCell\",\"attrs\"\
      :{\"colspan\":1,\"rowspan\":1,\"colwidth\":[111.0]},\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\" \",\"type\":\"text\"}]}]},{\"type\":\"\
      tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[110.0]},\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"subjects\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]}]}]},{\"type\":\"tableCell\",\"attrs\"\
      :{\"colspan\":1,\"rowspan\":1,\"colwidth\":[87.0]},\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"O\",\"type\":\"text\"}]}]},{\"type\":\"\
      tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[255.0]},\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"쿠버네티스 명령을 impersonate할\
      \ 쿠버네티스 사용자/그룹을 지정합니다.\",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\"\
      :[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"kubernetesGroups\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\" : 쿼리파이 Proxy가 이용할 kubernetes group을 지정합니다.\",\"type\":\"text\"\
      }]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"impersonation\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\" : 클라이언트 단에서 impersonation을 허용할 대상 사용자/그룹을 지정합니다. \",\"type\"\
      :\"text\"},{\"type\":\"status\",\"attrs\":{\"color\":\"green\",\"style\":\"\
      bold\",\"text\":\"와일드카드 허용\",\"localId\":\"fa4575b4-d73e-4bda-9c0c-7bcadd159131\"\
      }}]}]}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"\
      colwidth\":[197.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"kubernetesGroups:\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      type\":\"hardBreak\"},{\"text\":\"    \",\"type\":\"text\"},{\"text\":\"- \\\
      \"system:masters\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      type\":\"hardBreak\"},{\"text\":\"    \",\"type\":\"text\"},{\"text\":\"- $user.groups\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]},{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"impersonation:\",\"type\":\"text\",\"marks\":[{\"\
      type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\":\"  users:\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\"\
      :\"    - \\\"system:user\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"type\":\"hardBreak\"},{\"text\":\"  groups:\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\":\"    - \\\"system:admin\\\
      \"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]},{\"type\":\"tableRow\"\
      ,\"content\":[{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"\
      colwidth\":[111.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\" \",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[110.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"actions\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"\
      colwidth\":[87.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"O\",\"type\":\"text\"}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[255.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"쿠버네티스 클러스터 API 서버 내 허용/거부할 Resource API를 명시합니다. \"\
      ,\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"color\":\"blue\",\"style\"\
      :\"bold\",\"text\":\"와일드카드 및 정규표현식 허용\",\"localId\":\"e912d28f-47c8-430a-8eb3-451106ee642d\"\
      }}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"apiGroups\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 쿠버네티스 API 그룹 리스트를 정의합니다. \"\
      ,\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"color\":\"green\",\"style\"\
      :\"bold\",\"text\":\"와일드카드 허용\",\"localId\":\"3a892c80-dd2d-4d0d-86e8-40d71489ca7c\"\
      }}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"resources\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\" : 쿠버네티스 리소스를 정의합니다. \",\"type\":\"text\"},{\"type\":\"status\",\"\
      attrs\":{\"color\":\"green\",\"style\":\"bold\",\"text\":\"와일드카드 허용\",\"localId\"\
      :\"9d067dba-4481-407e-b2a0-0d2974eb3e4b\"}}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"namespace\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 대상 네임스페이스를 정의합니다. \",\"type\"\
      :\"text\"},{\"type\":\"status\",\"attrs\":{\"color\":\"blue\",\"style\":\"bold\"\
      ,\"text\":\"와일드카드 및 정규표현식 허용\",\"localId\":\"ee658e14-29a8-455b-a0ea-d7ac57a33b1f\"\
      }}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"name\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\" : 대상 리소스명을 정의합니다. \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\"\
      :{\"color\":\"blue\",\"style\":\"bold\",\"text\":\"와일드카드 및 정규표현식 허용\",\"localId\"\
      :\"15a65f3b-eb3d-4190-831e-5540f6188524\"}}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"verbs\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 작업을 허용하거나 거부할 kubernetes 내의\
      \ 권한을 명시합니다. \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"color\"\
      :\"green\",\"style\":\"bold\",\"text\":\"와일드카드 허용\",\"localId\":\"9cfda9ca-fc7f-4de2-8ec0-c101880b7527\"\
      }}]}]}]}]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"\
      colwidth\":[197.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"- apiGroups: [\\\"*\\\"]\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"type\":\"hardBreak\"},{\"text\":\"  resources:\",\"type\":\"text\",\"\
      marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\":\"    - \\\
      \"*\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"\
      },{\"text\":\"  namespace: \\\"*\\\"\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"type\":\"hardBreak\"},{\"text\":\"  name: \\\"*\\\"\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\"\
      :\"  verbs: [\\\"*\\\"]\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]},{\"\
      type\":\"tableRow\",\"content\":[{\"type\":\"tableCell\",\"attrs\":{\"colspan\"\
      :1,\"rowspan\":1,\"colwidth\":[111.0]},\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\" \",\"type\":\"text\"}]}]},{\"type\":\"tableCell\"\
      ,\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[110.0]},\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"conditions\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]}]}]},{\"type\":\"tableCell\",\"attrs\":{\"\
      colspan\":1,\"rowspan\":1,\"colwidth\":[87.0]},\"content\":[{\"type\":\"paragraph\"\
      }]},{\"type\":\"tableCell\",\"attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\"\
      :[255.0]},\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"리소스\
      \ 접근 정책 적용 여부를 조건으로 적용 대상을 세부 제어합니다.\",\"type\":\"text\"}]},{\"type\":\"bulletList\"\
      ,\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"\
      content\":[{\"text\":\"resourceTags\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\" : 리소스 태그의 키와 값으로 필터링할 수 있습니다. \",\"type\":\"text\"\
      },{\"type\":\"status\",\"attrs\":{\"color\":\"purple\",\"style\":\"bold\",\"\
      text\":\"Value 와일드카드 및 정규표현식 허용\",\"localId\":\"cdd97253-608a-45c6-97f3-2030124d3737\"\
      }},{\"text\":\" \",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"userAttributes\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 사용자의 attribute을 조건으로\
      \ 권한 사용을 제한합니다. \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"color\"\
      :\"purple\",\"style\":\"bold\",\"text\":\"Value 와일드카드 및 정규표현식 허용\",\"localId\"\
      :\"95292a1e-204c-4424-ba9c-5d18a066b680\"}}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"ipAddresses\",\"type\":\"\
      text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 리소스에 대한 IP 접근 통제 조건 리스트를\
      \ 단일IP, CIDR 형태으로 정의합니다. \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\"\
      :{\"color\":\"green\",\"style\":\"bold\",\"text\":\"와일드카드 허용\",\"localId\":\"\
      e9384081-7c4a-47ac-b325-981b4c04f5cb\"}}]}]}]}]},{\"type\":\"tableCell\",\"\
      attrs\":{\"colspan\":1,\"rowspan\":1,\"colwidth\":[197.0]},\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"resourceTags:      \",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\"\
      :\"  - \\\"Owner\\\": \\\"Daniel\\\"\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"type\":\"hardBreak\"},{\"text\":\"userAttributes:    \",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\"\
      :\"  - \\\"department\\\": \\\"DevOps\\\"   ipAddresses: \",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"},{\"text\":\"  - \\\
      \"10.10.10.0/24\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]},{\"\
      type\":\"paragraph\"},{\"type\":\"heading\",\"attrs\":{\"level\":2},\"content\"\
      :[{\"text\":\"Resources 명시 방법\",\"type\":\"text\"}]},{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"resources\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\"는 \",\"type\":\"text\"},{\"text\":\"쿠버네티스의 리소스가 아닌\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"underline\"}]},{\"text\":\" 쿼리파이에\
      \ 등록된 쿠버네티스 클러스터에 대한 리소스를 정의합니다.\",\"type\":\"text\"}]},{\"type\":\"orderedList\"\
      ,\"attrs\":{\"order\":1},\"content\":[{\"type\":\"listItem\",\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"해당 \",\"type\":\"text\"},{\"text\"\
      :\"resources\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\" 필드에 대한 정의는 필수입니다. \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"\
      color\":\"red\",\"style\":\"bold\",\"text\":\"required\",\"localId\":\"b54b33dd-77c5-47b4-9c5c-1e103ead3ed1\"\
      }},{\"text\":\" \",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"쿠버네티스 클러스터명을 바탕으로 입력합니다.\"\
      ,\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\\\"cluster:{Kubernetes\
      \ Cluster Name in QueryPie}\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]}]}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"쿠버네티스 클러스터명은 이하의 기준으로 정립됩니다. \",\"type\":\"text\"\
      }]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"문자 길이 100자 제한\",\"type\"\
      :\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"\
      content\":[{\"text\":\"알파벳 대소문자 (case-sensitive), 숫자 및 이하 특수기호만 허용\",\"type\"\
      :\"text\"}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"underscore (_)\"\
      ,\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"hyphen (-)\",\"type\":\"text\"}]}]}]}]},{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      이름 시작과 끝은 알파벳 대소문자 또는 숫자로 제한\",\"type\":\"text\"}]}]},{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"클러스터명은 중복을 제한\"\
      ,\"type\":\"text\"}]}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"쿠버네티스 클러스터는 단일 정책에서 다중으로 지정이 가능합니다. \"\
      ,\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"- \\\"cluster:kubepie-dev-1\\\
      \"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"type\":\"hardBreak\"\
      },{\"text\":\"- \\\"cluster:kubepie-dev-2\\\"\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"[\\\"cluster:kubepie-dev-1\\\", \\\"cluster:kubepie-dev-2\\\
      \"]\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]},{\"type\":\"\
      listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"경로는\
      \ 와일드카드를 허용합니다.\",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\"\
      :[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"\\\"cluster:kubepie-dev-*\\\"\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]}]}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"경로는 정규표현식을 허용합니다.\",\"type\":\"text\"}]},{\"type\"\
      :\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"\\\"cluster:^kubepie-dev-.*$\\\"\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]}]},{\"type\":\"paragraph\"\
      },{\"type\":\"heading\",\"attrs\":{\"level\":2},\"content\":[{\"text\":\"Subjects\
      \ 명시 방법\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"subjects\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\"\
      는 쿠버네티스 명령을 impersonate할 쿠버네티스 내 사용자/그룹을 정의합니다. \",\"type\":\"text\"},{\"text\"\
      :\"subjects\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\"\
      는 spec:allow에 한해 적용이 필요한 필드로, spec:deny에서는 문법적으로 허용되지 않습니다. \",\"type\":\"text\"\
      }]},{\"type\":\"orderedList\",\"attrs\":{\"order\":1},\"content\":[{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      kubernetesGroups\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\": \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"color\":\"red\"\
      ,\"style\":\"bold\",\"text\":\"required\",\"localId\":\"4bb074c1-fb2a-4db5-a5dd-02e5c33463aa\"\
      }}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"리소스에 대한 API 수행을 위해 쿼리파이 Proxy가\
      \ impersonate할 kubernetes 그룹 계정을 정의합니다.\",\"type\":\"text\"}]},{\"type\":\"\
      bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"해당 subjects는 Policy-wide 레벨에서 정의할 수 있어야 하며, 최소 하나가\
      \ 배정되도록 정의되어야 합니다.\",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\"\
      :[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"Impersonation을 위한 해당 subjects는 다른 Policy들과 하나의 Role 내에서 중첩이 가능합니다.\"\
      ,\"type\":\"text\"}]}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"Resources에 명시된 리소스에 대한 권한 수행이 가능한 kubernetes\
      \ 측 그룹(단일 또는 복수)을 정의합니다.\",\"type\":\"text\"}]},{\"type\":\"codeBlock\",\"content\"\
      :[{\"text\":\"kubernetesGroups: \\n  - system:masters\\n  - default-group-account\"\
      ,\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"kubernetesGroups에는 Querypie User의 Group을 예약어 형태로 입력할\
      \ 수 있습니다. 이 때, User의 Group은 쌍따옴표(“) 없이 입력 입력되어야 하며, 사용자가 Policy를 볼 땐 실제 user\
      \ Group의 값이 표시됩니다.\",\"type\":\"text\"}]},{\"type\":\"codeBlock\",\"content\"\
      :[{\"text\":\"kubernetesGroups: \\n  - $user.groups\",\"type\":\"text\"}]}]}]}]}]}]},{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"impersonation\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\": \",\"type\":\"text\"},{\"type\":\"status\",\"attrs\":{\"color\":\"yellow\"\
      ,\"style\":\"bold\",\"text\":\"OPTIONAL\",\"localId\":\"65bc7992-ce51-469e-971f-a2d21fcb204c\"\
      }}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"사용자가 클라이언트 단에서 kubernetes\
      \ 내 특정 serviceaccount 등의 권한으로 kubectl 명령에 impersonation(--as, --as-group)을 시도하는\
      \ 경우, 이에 대한 호출 허용 목록을 정의합니다.\",\"type\":\"text\"}]},{\"type\":\"bulletList\"\
      ,\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"\
      content\":[{\"text\":\"users\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\": 쿠버네티스 내 존재하는 사용자/서비스 계정으로 \\\"--as\\\" 파라미터에 허용 가능한 값을 나열합니다.\"\
      ,\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"groups\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]},{\"text\":\": 쿠버네티스 내 존재하는 그룹 계정으로 \\\"--as-group\\\" 파라미터에 허용 가능한\
      \ 값을 나열합니다.\",\"type\":\"text\"}]},{\"type\":\"codeBlock\",\"content\":[{\"\
      text\":\"impersonation: \\n  users: \\n    - \\\"system:serviceaccount:argocd\\\
      \"\\n  groups: \\n    - \\\"system:admin\\\"\",\"type\":\"text\"}]}]},{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      와일드카드를 허용합니다. (\",\"type\":\"text\"},{\"text\":\"\\\"*\\\"\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\")\",\"type\":\"text\"}]}]}]}]}]}]}]},{\"\
      type\":\"paragraph\"},{\"type\":\"heading\",\"attrs\":{\"level\":2},\"content\"\
      :[{\"text\":\"Actions 명시 방법\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"\
      content\":[{\"text\":\"클러스터 API 서버 내 허용할 Resource API 리스트를 명시합니다. 각 action에는\
      \ \",\"type\":\"text\"},{\"text\":\"apiGroups\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"resources\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\"\
      :\"text\"},{\"text\":\"namespace\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"name\",\"type\":\"\
      text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"\
      text\":\"verbs\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\" 기입이 필요합니다. \",\"type\":\"text\"}]},{\"type\":\"orderedList\",\"attrs\":{\"\
      order\":1},\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"apiGroups\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\" : 쿠버네티스 API 그룹 리스트를 정의합니다. \",\"type\":\"text\"}]},{\"\
      type\":\"orderedList\",\"attrs\":{\"order\":1},\"content\":[{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"API 그룹을 정의함으로써\
      \ 더욱 세부적인 권한 통제가 API 그룹별로 가능합니다. \",\"type\":\"text\"}]}]},{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"커스텀 리소스에 대한 통제가\
      \ 필요 시, apiGroups에 명시하여 커스텀 리소스에 한하여 통제도 가능합니다. \",\"type\":\"text\"}]}]},{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"참고: \",\"type\":\"text\"}]},{\"type\":\"orderedList\",\"attrs\":{\"order\"\
      :1},\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"API Groups 안내 \",\"type\":\"text\",\"marks\":[{\"\
      type\":\"link\",\"attrs\":{\"href\":\"https://kubernetes.io/docs/reference/using-api/#api-groups\"\
      }}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"API Group 목록\",\"type\":\"text\",\"marks\":[{\"type\":\"link\"\
      ,\"attrs\":{\"href\":\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.30/#api-groups\"\
      }}]},{\"text\":\" \",\"type\":\"text\"}]}]}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"와일드카드를 허용하여 API 그룹 전체를 포괄적으로\
      \ 지정하는 것이 가능합니다.\",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\"\
      :[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"apiGroups: [\\\"*\\\"]\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]}]}]}]}]}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"resources\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\" : 쿠버네티스 리소스 리스트를 정의합니다.\",\"type\":\"text\"}]},{\"\
      type\":\"orderedList\",\"attrs\":{\"order\":1},\"content\":[{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"일반적으로 많이 쓰이는\
      \ 리소스는 이하와 같습니다:\",\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\"\
      :[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"\
      text\":\"pods\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\", \",\"type\":\"text\"},{\"text\":\"pods/exec\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"pods/log\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\"\
      :\"text\"},{\"text\":\"pods/portforward\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"services\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"\
      },{\"text\":\"ingresses\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\", \",\"type\":\"text\"},{\"text\":\"deployments\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\"\
      :\"replicasets\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\", \",\"type\":\"text\"},{\"text\":\"statefulsets\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"daemonsets\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\"\
      :\"text\"},{\"text\":\"configmaps\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"secrets\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"\
      },{\"text\":\"namespaces\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\", \",\"type\":\"text\"},{\"text\":\"nodes\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"persistentvolumes\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\"\
      :\"text\"},{\"text\":\"persistentvolumeclaims\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"jobs\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\"\
      :\"text\"},{\"text\":\"cronjobs\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"serviceaccounts\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\"\
      :\"text\"},{\"text\":\"endpoints\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"roles\",\"type\":\"\
      text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"\
      text\":\"rolebindings\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\", \",\"type\":\"text\"},{\"text\":\"clusterroles\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\"\
      :\"clusterrolebindings\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]},{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"위에 표기되지 않은 리소스 또한 정책에서 수용이 가능합니다. \",\"type\":\"text\"}]}]},{\"type\":\"\
      listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"네임스페이스\
      \ 하위 리소스만 지정하여 권한을 부여하더라도, Namespace에 대한 ReadOnly 권한이 함께 부여됩니다. 따라서, 리소스 호출\
      \ 시 매번 네임스페이스 명시해주어야 하는 사례가 발생되지 않습니다. 특정 네임스페이스에 대한 권한 부여를 방지하고자 하는 경우, \"\
      ,\"type\":\"text\"},{\"text\":\"spec:deny\",\"type\":\"text\",\"marks\":[{\"\
      type\":\"code\"}]},{\"text\":\" 에서 네임스페이스 리소스에 대한 접근 거부를 설정할 수 있습니다. \",\"type\"\
      :\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"\
      content\":[{\"text\":\"단일 정책 액션에서 다중으로 리소스 지정이 가능합니다. \",\"type\":\"text\"}]},{\"\
      type\":\"codeBlock\",\"content\":[{\"text\":\" resources:\\n   - \\\"pods\\\"\
      \\n   - \\\"deployments\\\"\\n   - \\\"configmaps\\\"\",\"type\":\"text\"}]}]},{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"와일드카드를 허용합니다. (\",\"type\":\"text\"},{\"text\":\"\\\"*\\\"\",\"type\":\"\
      text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\")\",\"type\":\"text\"}]}]}]}]},{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"namespace\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\" : 대상 네임스페이스를 정의합니다. \",\"type\":\"text\"}]},{\"type\":\"orderedList\",\"\
      attrs\":{\"order\":1},\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"네임스페이스를 액션에서 정의하여 클러스터 내 허용 대상 네임스페이스를\
      \ 리소스별로 제어할 수 있습니다. \",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"와일드카드와 정규표현식 모두 허용합니다.\"\
      ,\"type\":\"text\"}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"namespace: \\\
      \"*\\\"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]},{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      namespaces 외 네임스페이스에 존속되지 않는 리소스의 경우, 해당 namespace를 작성하지 않아도 됩니다.\",\"type\"\
      :\"text\"}]},{\"type\":\"orderedList\",\"attrs\":{\"order\":1},\"content\":[{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"대상 예) \",\"type\":\"text\"},{\"text\":\"persistentvolumes\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\"\
      :\"persistentvolumeclaims\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"serviceaccounts\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"\
      },{\"text\":\"customresourcedefinitions\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"endpoints\",\"\
      type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"\
      text\"},{\"text\":\"nodes\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"clusterroles\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"\
      },{\"text\":\"clusterrolebindings\",\"type\":\"text\",\"marks\":[{\"type\":\"\
      code\"}]},{\"text\":\" 등\",\"type\":\"text\"}]}]}]}]}]}]},{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"name\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 대상 리소스명을 정의하여 클러스터\
      \ 내 허용 리소스 중 네이밍을 바탕으로 제어가 가능합니다. \",\"type\":\"text\"}]},{\"type\":\"orderedList\"\
      ,\"attrs\":{\"order\":1},\"content\":[{\"type\":\"listItem\",\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"와일드카드와 정규표현식 모두 허용합니다.\",\"type\"\
      :\"text\"}]},{\"type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"\
      content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"name: \\\"pods-*\\\
      \"\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]}]}]},{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      verbs\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 작업을\
      \ 허용하거나 거부할 kubernetes 내의 API 권한을 명시합니다.\",\"type\":\"text\"}]},{\"type\":\"\
      bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\"\
      ,\"content\":[{\"text\":\"일반적으로 호출되는 verb는 아래와 같습니다: \",\"type\":\"text\"}]},{\"\
      type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"get\",\"type\":\"text\",\"marks\":[{\"\
      type\":\"code\"}]},{\"text\":\": 리소스 정보 검색\",\"type\":\"text\"}]}]},{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      list\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\": 리소스\
      \ 목록 나열\",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"watch\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\": 리소스 변경사항 주시 \",\"type\":\"text\"}]}]},{\"\
      type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"create\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\"\
      : 새로운 리소스 생성\",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"\
      type\":\"paragraph\",\"content\":[{\"text\":\"update\",\"type\":\"text\",\"\
      marks\":[{\"type\":\"code\"}]},{\"text\":\": 기존 리소스 업데이트\",\"type\":\"text\"\
      }]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"patch\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\": 리소스 부분 수정\",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"delete\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\": 리소스 삭제 \",\"type\":\"text\"\
      }]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\"\
      :[{\"text\":\"deletecollection\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\": 단일 작업에서 여러 자원 삭제\",\"type\":\"text\"}]}]}]}]},{\"type\":\"\
      listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"위에\
      \ 표기되지 않은 특수한 verb가 있더라도 정책에 명시하여 적용 가능합니다. \",\"type\":\"text\"}]}]},{\"type\"\
      :\"listItem\",\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"\
      3rd-Party 클라이언트 지원 시 이하의 verb가 필수로 요구되며 안내합니다: \",\"type\":\"text\"}]},{\"type\"\
      :\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"View 권한 : \",\"type\":\"text\"},{\"text\"\
      :\"get\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \"\
      ,\"type\":\"text\"},{\"text\":\"list\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"watch\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"Edit 권한 : \",\"type\":\"\
      text\"},{\"text\":\"get\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"\
      text\":\", \",\"type\":\"text\"},{\"text\":\"list\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"watch\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" + \",\"type\"\
      :\"text\"},{\"text\":\"create\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"\
      }]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"update\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\"\
      :\"patch\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\",\
      \ \",\"type\":\"text\"},{\"text\":\"delete\",\"type\":\"text\",\"marks\":[{\"\
      type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\":\"deletecollection\"\
      ,\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]}]}]}]}]},{\"type\":\"listItem\"\
      ,\"content\":[{\"type\":\"paragraph\",\"content\":[{\"text\":\"pod exec명령을 통한\
      \ 컨테이너 쉘 접속 세션 생성을 위해서는 일반적으로 \",\"type\":\"text\"},{\"text\":\"create\",\"\
      type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" verb 명시가 필요합니다.\
      \ \",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"\
      paragraph\",\"content\":[{\"text\":\"와일드카드를 허용합니다. \",\"type\":\"text\"}]},{\"\
      type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"verbs: [\\\"*\\\"]\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]}]}]}]}]}]}]}]},{\"type\":\"paragraph\"},{\"\
      type\":\"heading\",\"attrs\":{\"level\":2},\"content\":[{\"text\":\"Conditions\
      \ 명시 방법\",\"type\":\"text\"}]},{\"type\":\"paragraph\",\"content\":[{\"text\"\
      :\"conditions\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\" 항목에는 \",\"type\":\"text\"},{\"text\":\"resourceTags\",\"type\":\"text\"\
      ,\"marks\":[{\"type\":\"code\"}]},{\"text\":\", \",\"type\":\"text\"},{\"text\"\
      :\"userAttributes\",\"type\":\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\"\
      :\", \",\"type\":\"text\"},{\"text\":\"ipAddresses\",\"type\":\"text\",\"marks\"\
      :[{\"type\":\"code\"}]},{\"text\":\"를 조건으로 정의할 수 있습니다. \",\"type\":\"text\"\
      },{\"type\":\"status\",\"attrs\":{\"color\":\"yellow\",\"style\":\"bold\",\"\
      text\":\"OPTIONAL\",\"localId\":\"9b7635d3-7de5-4c02-8b71-751ce3f4a1d9\"}}]},{\"\
      type\":\"bulletList\",\"content\":[{\"type\":\"listItem\",\"content\":[{\"type\"\
      :\"paragraph\",\"content\":[{\"text\":\"resourceTags\",\"type\":\"text\",\"\
      marks\":[{\"type\":\"code\"}]},{\"text\":\" : 태그 항목에서는 리소스 태그의 키와 값으로 필터링할 수\
      \ 있습니다. \",\"type\":\"text\"}]},{\"type\":\"codeBlock\",\"content\":[{\"text\"\
      :\"resourceTags: \\n  \\\"region\\\": \\\"ap-northeast-1\\\"\\n  \\\"Owner\\\
      \": \\\"Brant\\\"\",\"type\":\"text\"}]}]},{\"type\":\"listItem\",\"content\"\
      :[{\"type\":\"paragraph\",\"content\":[{\"text\":\"userAttributes\",\"type\"\
      :\"text\",\"marks\":[{\"type\":\"code\"}]},{\"text\":\" : 사용자의 속성(attribute)을\
      \ 조건으로 지정하고 값이 매칭되는 사용자에 한해서만 해당 정책에서 정의된 권한의 사용을 제한합니다. \",\"type\":\"text\"\
      }]},{\"type\":\"codeBlock\",\"content\":[{\"text\":\"userAttributes: \\n  \\\
      \"countryCode\\\": \\\"KR\\\"\\n  \\\"department\\\": \\\"Infra\\\"\",\"type\"\
      :\"text\"}]}]},{\"type\":\"listItem\",\"content\":[{\"type\":\"paragraph\",\"\
      content\":[{\"text\":\"ipAddresses\",\"type\":\"text\",\"marks\":[{\"type\"\
      :\"code\"}]},{\"text\":\" : 리소스에 대한 IP 접근 통제 조건 리스트를 단일IP, CIDR 형태으로 정의합니다.\
      \ \",\"type\":\"text\"}]},{\"type\":\"codeBlock\",\"content\":[{\"text\":\"\
      ipAddresses: [\\\"10.10.0.0/24\\\", \\\"10.11.10.1\\\"]\",\"type\":\"text\"\
      }]}]}]},{\"type\":\"paragraph\"},{\"type\":\"heading\",\"attrs\":{\"level\"\
      :2},\"content\":[{\"text\":\"KAC Policy 예시\",\"type\":\"text\"}]},{\"type\"\
      :\"codeBlock\",\"content\":[{\"text\":\"apiVersion: kubernetes.rbac.querypie.com/v1\
      \ \\nkind: KacPolicy\\n\\nspec:\\n  allow: \\n    resources: \\n      - \\\"\
      cluster:*\\\"\\n    subjects: \\n      kubernetesGroups: \\n        - \\\"system:masters\\\
      \"\\n      impersonation: \\n        users: [\\\"system:serviceaccount:argocd\\\
      \"] \\n        groups: [\\\"system:admin\\\"]  \\n    actions: \\n      - apiGroups:\
      \ [\\\"*\\\"] \\n        resources: \\n          - \\\"pods\\\"\\n        namespace:\
      \ \\\"*\\\" \\n        name: \\\"*\\\" \\n        verbs: [\\\"get\\\", \\\"\
      list\\\", \\\"watch\\\"]\\n    conditions: \\n      resourceTags: \\n      \
      \  \\\"Owner\\\": [\\\"Kenny\\\", \\\"Brant\\\"]\\n        \\\"Team\\\": \\\"\
      DevSecOps\\\" \\n      userAttributes: \\n        \\\"countryCode\\\": \\\"\
      KR\\\"\\n        \\\"department\\\": \\\"Infra\\\"\\n      ipAddresses: [\\\"\
      10.10.0.0/24\\\", \\\"10.11.10.1\\\"] \\n  deny: \\n    resources: \\n     \
      \ - \\\"cluster:kubepie-*\\\"\\n    actions: \\n      - apiGroups: [\\\"*\\\"\
      ]\\n        resources: \\n          - \\\"*\\\"\\n        namespace: \\\"production\\\
      \"\\n        name: \\\"*\\\"\\n        verbs: [\\\"*\\\"]\\n    conditions:\
      \ \\n      resourceTags: \\n        \\\"Owner\\\": \\\"Brant\\\"\",\"type\"\
      :\"text\"}]}],\"version\":1}"
"spaceId": "539099246"
"title": "쿠버네티스 정책 YAML Code 문법 안내"
"_links":
  "editui": "/pages/resumedraft.action?draftId=544382364"
  "webui": "/spaces/QM/pages/544382364/YAML+Code"
  "edituiv2": "/spaces/QM/pages/edit-v2/544382364"
  "tinyui": "/x/nJ1yI"
  "base": "https://querypie.atlassian.net/wiki"
